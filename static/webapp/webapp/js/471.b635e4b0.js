"use strict";(self["webpackChunkspci"]=self["webpackChunkspci"]||[]).push([[471],{20471:(a,e,t)=>{t.r(e),t.d(e,{default:()=>x});var r=t(83673),n=t(62323);const l={key:0,class:"q-pa-md"},o=(0,r._)("div",{class:"text-h6"},[(0,r._)("b",null,"Estado de la entrega actualizado.")],-1),i=(0,r.Uk)(" Gracias por usar Colabora "),c={key:1,class:"q-pa-md"},u={class:"text-h6"};function d(a,e,t,d,s,m){const p=(0,r.up)("q-avatar"),g=(0,r.up)("q-card-section"),h=(0,r.up)("q-btn"),v=(0,r.up)("q-separator"),b=(0,r.up)("q-card"),z=(0,r.up)("q-input"),w=(0,r.up)("q-form");return d.entrega.estadoWorkflow?((0,r.wg)(),(0,r.iD)("div",l,[(0,r.Wm)(b,{class:"my-card bg-teal-2"},{default:(0,r.w5)((()=>[(0,r.Wm)(g,{horizontal:""},{default:(0,r.w5)((()=>[(0,r.Wm)(g,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p,{color:"white","text-color":"cyan-8",icon:"done"})])),_:1}),(0,r.Wm)(g,{class:"text-textoAzul"},{default:(0,r.w5)((()=>[o,i])),_:1})])),_:1}),(0,r.Wm)(g,{class:"q-pt-none"},{default:(0,r.w5)((()=>[(0,r.Wm)(h,{color:"light-blue-10",label:"Volver a la bandeja de entregas",onClick:d.limpiaBandeja},null,8,["onClick"])])),_:1}),(0,r.Wm)(g,null,{default:(0,r.w5)((()=>[(0,r.Wm)(v,{class:"bg-textoAzul",inset:""})])),_:1})])),_:1})])):((0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("div",u,[(0,r.Uk)(" Rechazando "+(0,n.zw)(d.entrega.aRechazar.tipoEntrega)+" ",1),(0,r._)("i",null,(0,n.zw)(d.entrega.aRechazar.entrega.descripcion),1)]),(0,r.Wm)(w,{onSubmit:d.onSubmit,class:"q-gutter-md"},{default:(0,r.w5)((()=>[(0,r.Wm)(z,{filled:"",modelValue:d.txtRetroalimentacion,"onUpdate:modelValue":e[0]||(e[0]=a=>d.txtRetroalimentacion=a),label:"Retroalimentación de la entrega rechazada",hint:"Dar indicaciones que permitan a su colaborador o colaboradora volver a subir una entrega que cumpla lo exigido","lazy-rules":"",type:"textarea",rules:[a=>a&&a.length>10||"Escriba por lo menos 10 caracteres"]},null,8,["modelValue","rules"]),(0,r._)("div",null,[(0,r.Wm)(h,{label:"Enviar",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"])]))}var s=t(61959),m=t(93617),p=t(79582);const g={setup(){const a=(0,p.tv)(),e=(0,m.oR)(),t=(0,r.Fl)((()=>e.state.entrega)),n=(0,s.iH)(null);return{txtRetroalimentacion:n,entrega:t,limpiaBandeja:()=>{let r="UPCI"==t.value.aRechazar.mandante?"bandejaUPCI":"bandejaEntregas";e.dispatch("entrega/limpiaEntregas"),a.push(r)},onSubmit:()=>{confirm("¿Enviar retroalimentación?")&&("lider"==t.value.aRechazar.mandante?e.dispatch("entrega/workflowLiderRechaza",{entrega_id:t.value.aRechazar.entrega.id,entrega_tipo:t.value.aRechazar.tipoEntrega,retroalimentacion:n.value}):"UPCI"==t.value.aRechazar.mandante&&e.dispatch("entrega/workflowUPCIRechaza",{entrega_id:t.value.aRechazar.entrega.id,entrega_tipo:t.value.aRechazar.tipoEntrega,retroalimentacion:n.value}))}}}};var h=t(74260),v=t(10151),b=t(25589),z=t(75096),w=t(48240),f=t(65869),R=t(68689),_=t(34842),k=t(7518),q=t.n(k);const W=(0,h.Z)(g,[["render",d]]),x=W;q()(g,"components",{QCard:v.Z,QCardSection:b.Z,QAvatar:z.Z,QBtn:w.Z,QSeparator:f.Z,QForm:R.Z,QInput:_.Z})}}]);