"use strict";(self["webpackChunkspci"]=self["webpackChunkspci"]||[]).push([[93],{68093:(e,o,a)=>{a.r(o),a.d(o,{default:()=>De});var i=a(83673),t=a(62323);const c=e=>((0,i.dD)("data-v-2eb4b85f"),e=e(),(0,i.Cn)(),e),l=c((()=>(0,i._)("div",{title:"header"},[(0,i._)("p",{align:"center",style:{"margin-bottom":"1,0cm","line-height":"30%"}},[(0,i._)("img",{id:"logo",src:"/static/uaysen-nuevo-1.png",name:"image1.jpg",align:"bottom",width:"70",height:"90",border:"0"})])],-1))),n=c((()=>(0,i._)("div",null,[(0,i._)("p",{align:"center",style:{"margin-bottom":"0.2cm","line-height":"40%"}},[(0,i._)("b",null,"REPORTE MEDIOS DE VERIFICACIÓN")])],-1))),r={align:"center",style:{"margin-bottom":"0.2cm","line-height":"108%"}},s={align:"center",style:{"margin-bottom":"0cm","line-height":"90%","page-break-before":"auto"}},d=c((()=>(0,i._)("br",null,null,-1))),u=c((()=>(0,i._)("br",null,null,-1))),p={align:"center"},m=c((()=>(0,i._)("b",{style:{"font-size":"11pt","text-align":"center"}},"Título Acción",-1))),b=c((()=>(0,i._)("b",{style:{"text-align":"center"}},"Identificador Acción",-1))),f=c((()=>(0,i._)("b",null,"Unidad Responsable",-1))),g=c((()=>(0,i._)("br",null,null,-1))),v=c((()=>(0,i._)("br",null,null,-1))),_=c((()=>(0,i._)("br",null,null,-1))),h={key:0,align:"center"},W={key:1,align:"center"},A={key:2,align:"center"},w=c((()=>(0,i._)("br",null,null,-1))),H={align:"center",style:{height:"auto"}},F=c((()=>(0,i._)("b",null,"Analista",-1))),R={align:"left"},y=c((()=>(0,i._)("b",null,"Recomendaciones",-1))),P=c((()=>(0,i._)("br",null,null,-1))),q={class:"row justify-end q-gutter-sm q-ma-md",style:{width:"65%"}},V=c((()=>(0,i._)("br",null,null,-1)));function C(e,o,a,c,C,E){const x=(0,i.up)("q-item-label"),j=(0,i.up)("q-separator"),k=(0,i.up)("q-card-section"),z=(0,i.up)("q-card"),Z=(0,i.up)("q-space"),S=(0,i.up)("ReporteFuncionesEdicion"),Q=(0,i.up)("ReporteHitosEdicion"),D=(0,i.up)("ReporteAccionesEdicion"),I=(0,i.up)("q-input"),T=(0,i.up)("q-btn");return(0,i.wg)(),(0,i.j4)(z,{class:"my-card",align:"center",flat:"",bordered:""},{default:(0,i.w5)((()=>[l,n,(0,i._)("div",null,[(0,i._)("p",r,[(0,i._)("b",null,"Planificación Operativa Anual "+(0,t.zw)(e.anio),1)])]),(0,i._)("div",null,[(0,i._)("p",s,[(0,i._)("b",null,(0,t.zw)(e.mes),1)])]),d,u,e.finReporteAccion?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(k,{key:0,"transition-prev":"slide-down","transition-next":"slide-up"},{default:(0,i.w5)((()=>[(0,i._)("div",p,[(0,i.Wm)(z,{style:{width:"65%"},flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{horizontal:"",style:{height:"auto"}},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{class:"col-2 bg-blue-2",flat:"",bordered:""},{default:(0,i.w5)((()=>[m])),_:1}),(0,i.Wm)(j,{vertical:""}),(0,i.Wm)(x,{class:"col bg-deep-orange-1",flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i._)("b",null,(0,t.zw)(e.accionesAReportar.titulo),1)])),_:1})])),_:1}),(0,i.Wm)(j,{horizontal:""}),(0,i.Wm)(k,{horizontal:"",style:{height:"35px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{class:"col bg-blue-2"},{default:(0,i.w5)((()=>[b])),_:1}),(0,i.Wm)(j,{vertical:""}),(0,i.Wm)(x,{class:"col-4"},{default:(0,i.w5)((()=>[(0,i._)("b",null,(0,t.zw)(e.accionesAReportar.id_uaysen),1)])),_:1}),(0,i.Wm)(j,{vertical:""}),(0,i.Wm)(x,{class:"col-4 bg-blue-2"},{default:(0,i.w5)((()=>[f])),_:1}),(0,i.Wm)(j,{vertical:""}),(0,i.Wm)(x,{class:"col"},{default:(0,i.w5)((()=>[(0,i._)("b",null,(0,t.zw)(e.defineActor(e.accionesAReportar.rol_set)),1)])),_:1})])),_:1})])),_:1}),(0,i.Wm)(Z),g,(0,i.Wm)(Z),v,_,e.acciones.funciones.length?((0,i.wg)(),(0,i.iD)("div",h,[(0,i.Wm)(S,{descripcionTactica:e.acciones.funciones[e.stepPasoFuncion].nombre,indicadores:e.acciones.funciones[e.stepPasoFuncion].indicador_set,funcion:e.reporteAEditar.reporte_acciones[e.stepPasoAccion].reporte_funciones[e.stepPasoFuncion].funcion,stepPasoFuncion:e.stepPasoFuncion,identificador:e.accionesAReportar.id_uaysen,comentario:e.reporteAEditar.reporte_acciones[e.stepPasoAccion].reporte_funciones[e.stepPasoFuncion].comentario_cumplimiento,idTactica:e.reporteAEditar.reporte_acciones[e.stepPasoAccion].reporte_funciones[e.stepPasoFuncion].id_tactica,onCambioFuncion:e.cambioPasoFuncion},null,8,["descripcionTactica","indicadores","funcion","stepPasoFuncion","identificador","comentario","idTactica","onCambioFuncion"])])):(0,i.kq)("",!0),e.validaReporteHito()?((0,i.wg)(),(0,i.iD)("div",W,[(0,i.Wm)(Q,{descripcionTactica:e.acciones.detalleAccion.mdvs[e.stepPasoHito].label,mdv:e.acciones.detalleAccion.mdvs[e.stepPasoHito],stepPasoHito:e.stepPasoHito,detalleProductos:e.detalleProductos,identificador:e.accionesAReportar.id_uaysen,indicadorLogro:e.reporteAEditar.reporte_acciones[e.stepPasoAccion].reporte_hitos[e.stepPasoHito].indicador_logro,comentario:e.reporteAEditar.reporte_acciones[e.stepPasoAccion].reporte_hitos[e.stepPasoHito].comentario_cumplimiento,idTactica:e.reporteAEditar.reporte_acciones[e.stepPasoAccion].reporte_hitos[e.stepPasoHito].id_tactica,onCambioHito:e.cambioPasoHito},null,8,["descripcionTactica","mdv","stepPasoHito","detalleProductos","identificador","indicadorLogro","comentario","idTactica","onCambioHito"])])):(0,i.kq)("",!0),e.validaReporteAccion()?((0,i.wg)(),(0,i.iD)("div",A,[(0,i.Wm)(D,{idAccion:e.reporteAEditar.reporte_acciones[e.stepPasoAccion].accion,opcionesJustificacion:e.opcionesJustificacion,stepPasoAccion:e.stepPasoAccion,fechaFormateada:e.fechaFormateada,indicadorEstado:e.reporteAEditar.reporte_acciones[e.stepPasoAccion].estado_ejecucion,justificacion:e.reporteAEditar.reporte_acciones[e.stepPasoAccion].justificacion_contingencia,reporteJustificacion:e.reporteAEditar.reporte_acciones[e.stepPasoAccion].reporte_justificacion_contingencia,reporteAcciones:e.reporteAEditar.reporte_acciones,onCambioAccion:e.cambioPasoAccion},null,8,["idAccion","opcionesJustificacion","stepPasoAccion","fechaFormateada","indicadorEstado","justificacion","reporteJustificacion","reporteAcciones","onCambioAccion"])])):(0,i.kq)("",!0),(0,i.Wm)(Z),w])])),_:1})),e.finReporteAccion?((0,i.wg)(),(0,i.j4)(k,{key:1,"transition-prev":"slide-down","transition-next":"slide-up"},{default:(0,i.w5)((()=>[(0,i._)("div",H,[(0,i.Wm)(z,{style:{width:"65%"},flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{horizontal:"",style:{height:"30px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{class:"col-3 bg-blue-2",flat:"",bordered:"",style:{"padding-top":"5px"}},{default:(0,i.w5)((()=>[F])),_:1}),(0,i.Wm)(j,{vertical:""}),(0,i.Wm)(x,{class:"col-6",flat:"",bordered:"",style:{"padding-top":"5px","padding-left":"3px"}},{default:(0,i.w5)((()=>[(0,i._)("div",R,(0,t.zw)(e.usuario.nombre)+" "+(0,t.zw)(e.usuario.apellido),1)])),_:1})])),_:1}),(0,i.Wm)(j,{horizontal:""}),(0,i.Wm)(k,{horizontal:"",style:{height:"auto",width:"100%"}},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{class:"col-3 bg-blue-2",flat:"",bordered:"",style:{"padding-top":"20px"}},{default:(0,i.w5)((()=>[y])),_:1}),(0,i.Wm)(j,{vertical:""}),(0,i.Wm)(x,{class:"col-9"},{default:(0,i.w5)((()=>[(0,i.Wm)(I,{modelValue:e.recomendacion,"onUpdate:modelValue":o[0]||(o[0]=o=>e.recomendacion=o),style:{"padding-left":"3px"},type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})]),P,(0,i.Wm)(j,{inset:"",style:{width:"65%"}}),(0,i._)("div",q,[(0,i.Wm)(T,{class:"q-ml-sm",color:"btnCancelar",label:"   Cancelar  ",onClick:e.cancelarReporte},null,8,["onClick"]),(0,i.Wm)(T,{class:"q-ml-sm",color:"btnContinuar",label:"   Guardar Avance  ",onClick:e.guardarReporte},null,8,["onClick"]),(0,i.Wm)(T,{class:"q-ml-sm",color:"btnAdjuntar",label:"   Finalizar  ",onClick:e.guardarReporteFinal},null,8,["onClick"])])])),_:1})):(0,i.kq)("",!0),(0,i.Wm)(Z),V])),_:1})}var E=a(61959),x=a(93617),j=a(79582);const k={align:"center"},z=(0,i._)("div",{class:"q-pa-md q-gutter-sm",style:{width:"65%"}},[(0,i._)("p",{align:"left"},[(0,i._)("b",null,"1.- Evaluación entrega a Medios de Verificación")])],-1),Z=(0,i._)("b",null,"Función",-1),S=(0,i._)("b",null,"MDV",-1),Q=(0,i._)("b",null,"Indicador de Avance",-1),D=(0,i._)("b",null,"Comentario al cumplimiento",-1),I=(0,i._)("br",null,null,-1),T=(0,i._)("br",null,null,-1),U={class:"row justify-end q-gutter-sm q-ma-md"},L=(0,i._)("br",null,null,-1);function M(e,o,a,c,l,n){const r=(0,i.up)("q-item-label"),s=(0,i.up)("q-separator"),d=(0,i.up)("q-item-labeln"),u=(0,i.up)("q-card-section"),p=(0,i.up)("q-expansion-item"),m=(0,i.up)("q-input"),b=(0,i.up)("q-card"),f=(0,i.up)("q-space"),g=(0,i.up)("q-btn");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",k,[z,(0,i.Wm)(b,{style:{width:"65%"},flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{horizontal:"",style:{height:"40px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{class:"col-1 bg-blue-2",flat:"",bordered:""},{default:(0,i.w5)((()=>[Z])),_:1}),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(d,{class:"col-2 bg-deep-orange-1",flat:"",bordered:"",modelValue:e.model,"onUpdate:modelValue":o[0]||(o[0]=o=>e.model=o)},{default:(0,i.w5)((()=>[(0,i.Uk)((0,t.zw)(e.id_tactica),1)])),_:1},8,["modelValue"]),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(r,{class:"col bg-deep-orange-1",flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,t.zw)(e.descripcionTactica),1)])),_:1})])),_:1}),(0,i.Wm)(s,{horizontal:""}),(0,i.Wm)(u,{horizontal:"",style:{height:"20px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{class:"col-3 bg-blue-2",flat:"",bordered:""},{default:(0,i.w5)((()=>[S])),_:1}),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(r,{class:"col-3 bg-blue-2",flat:"",bordered:""},{default:(0,i.w5)((()=>[Q])),_:1}),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(r,{class:"col bg-blue-2",flat:"",bordered:""},{default:(0,i.w5)((()=>[D])),_:1})])),_:1}),(0,i.Wm)(s,{horizontal:""}),(0,i.Wm)(u,{horizontal:"",style:{height:"auto"},modelValue:e.model,"onUpdate:modelValue":o[3]||(o[3]=o=>e.model=o)},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{class:"col-3",flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{"expand-icon-toggle":"","expand-separator":"",label:"Detalle MDVs",caption:e.identificador},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.indicadores,(o=>((0,i.wg)(),(0,i.iD)("div",{key:o.id},(0,t.zw)(e.identificador)+"_"+(0,t.zw)(e.id_tactica)+"_"+(0,t.zw)(o.nombre),1)))),128))])),_:1},8,["caption"])])),_:1}),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(r,{class:"col-3",flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{label:e.labelMetaAvance,"input-class":"text-right",modelValue:e.indicadorAvance,"onUpdate:modelValue":o[1]||(o[1]=o=>e.indicadorAvance=o),borderless:"",suffix:"%",readonly:""},null,8,["label","modelValue"])])),_:1}),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(r,{class:"col",flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{style:{height:"auto"},modelValue:e.comentario_cumplimiento,"onUpdate:modelValue":o[2]||(o[2]=o=>e.comentario_cumplimiento=o),borderless:"",type:"textarea",label:"Ingresar comentario al cumplimiento"},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])])),_:1})]),(0,i.Wm)(f),I,(0,i.Wm)(f),T,(0,i.Wm)(s,{inset:""}),(0,i._)("div",U,[(0,i.Wm)(g,{class:"q-ml-sm",color:"btnCancelar",label:"   Cancelar   ",onClick:e.cancelarReporte},null,8,["onClick"]),(0,i.Wm)(g,{color:"btnContinuar",onClick:e.guardarFuncion,label:"   Siguiente Función   ",class:"q-ml-sm"},null,8,["onClick"])]),(0,i.Wm)(f),L],64)}const J=(0,i.aZ)({props:{descripcionTactica:String,indicadores:Array,funcion:Number,stepPasoFuncion:Number,identificador:String,comentario:String,idTactica:String},emits:["cambioFuncion"],setup(e,o){let{emit:a}=o;const t=(0,x.oR)(),c=(0,j.tv)(),l=(0,i.Fl)((()=>t.state.reporte)),n=((0,i.Fl)((()=>t.state.reporte.aEditar)),(0,i.Fl)((()=>t.state.accion))),r=((0,E.iH)(),(0,E.iH)(),(0,E.iH)(e.idTactica)),s=e.generaReporte,d=(0,i.Fl)((()=>t.state.verificador)),u=((0,i.Fl)((()=>t.state.verificador.verificador)),(0,E.iH)(""),(0,E.iH)("")),p=(0,E.iH)(e.stepPasoFuncion),m=(0,E.iH)(e.comentario),b=(0,E.iH)(""),f=(0,E.iH)(""),g=(0,i.Fl)({get:()=>{u.value=v(),m.value=e.comentario,r.value=e.idTactica,p.value=e.stepPasoFuncion},set:e=>a("cambioFuncion",e)}),v=()=>{var o;e.indicadores.length,o=e.indicadores[0].id,t.dispatch("verificador/reqVerificadorPorIndicador",o),t.dispatch("reporte/reqTotalMetasPorFuncion",e.funcion);let a=(0,i.Fl)((()=>t.state.reporte.total_meta)).value,c=(0,i.Fl)((()=>t.state.verificador.avance)).value;return c?(b.value="Meta ("+a+") / Avance ("+c+")",Math.floor(c/a*100)):(b.value="Meta ("+a+") / Avance (0)",Math.floor(0/a*100))},_=()=>{u.value=v();const o={id_tactica:r.value,funcion:e.indicadores[0].funcion,indicador:u.value,comentario_cumplimiento:m.value};t.dispatch("reporte/setFuncionesPorAccionParaReporte",o),p.value+=1,u.value="",m.value="",p.value>n.value.funciones.length-1&&t.dispatch("accion/limpiaFunciones"),a("cambioFuncion",1)},h=()=>{a("cambioFuncion",-1)};return{meta:(0,i.Fl)((()=>t.state.reporte.total_meta)),avance:(0,i.Fl)((()=>t.state.verificador.avance)),labelMetaAvance:b,indicadorAvance:u,entregas:d,calculoAvance:v,guardarFuncion:_,pasoFuncion:p,reporteFuncion:l,cancelarReporte:()=>{t.dispatch("accion/limpiaAccionAReportar"),t.dispatch("reporte/limpiaReporteFunciones"),t.dispatch("reporte/limpiaReporteHitos"),c.push("panelReportesUpci")},funcionAnterior:h,generaReporte:s,comentario_cumplimiento:m,descripcionTactica:(0,E.Vh)(e,"descripcionTactica"),id_tactica:r,indicadores:(0,E.Vh)(e,"indicadores"),identificador:(0,E.Vh)(e,"identificador"),model:g,mostrar:f,acciones:n}}});var N=a(74260),O=a(10151),B=a(25589),Y=a(2350),K=a(65869),G=a(60429),X=a(34842),$=a(62025),ee=a(48240),oe=a(7518),ae=a.n(oe);const ie=(0,N.Z)(J,[["render",M]]),te=ie;ae()(J,"components",{QCard:O.Z,QCardSection:B.Z,QItemLabel:Y.Z,QSeparator:K.Z,QExpansionItem:G.Z,QInput:X.Z,QSpace:$.Z,QBtn:ee.Z});const ce={align:"center"},le=(0,i._)("div",{class:"q-pa-md q-gutter-sm",style:{width:"65%"}},[(0,i._)("p",{align:"left"},[(0,i._)("b",null,"1.- Evaluación entrega a Medios de Verificación")])],-1),ne=(0,i._)("b",null,"Hito",-1),re=(0,i._)("b",null,"MDV",-1),se=(0,i._)("b",null,"Logro",-1),de=(0,i._)("b",null,"Indicador de Logro",-1),ue=(0,i._)("b",null,"Comentario al cumplimiento",-1),pe=(0,i._)("br",null,null,-1),me=(0,i._)("br",null,null,-1),be={class:"row justify-end q-gutter-sm q-ma-md"},fe=(0,i._)("br",null,null,-1);function ge(e,o,a,c,l,n){const r=(0,i.up)("q-item-label"),s=(0,i.up)("q-separator"),d=(0,i.up)("q-card-section"),u=(0,i.up)("q-expansion-item"),p=(0,i.up)("q-input"),m=(0,i.up)("q-select"),b=(0,i.up)("q-card"),f=(0,i.up)("q-space"),g=(0,i.up)("q-btn");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",ce,[le,(0,i.Wm)(b,{style:{width:"65%"},flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{horizontal:"",style:{height:"40px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{class:"col-1 bg-blue-2",flat:"",bordered:""},{default:(0,i.w5)((()=>[ne])),_:1}),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(r,{class:"col-2 bg-deep-orange-1",flat:"",bordered:"",modelValue:e.model,"onUpdate:modelValue":o[0]||(o[0]=o=>e.model=o)},{default:(0,i.w5)((()=>[(0,i.Uk)((0,t.zw)(e.id_tactica),1)])),_:1},8,["modelValue"]),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(r,{class:"col bg-deep-orange-1",flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,t.zw)(e.descripcionTactica),1)])),_:1})])),_:1}),(0,i.Wm)(s,{horizontal:""}),(0,i.Wm)(d,{horizontal:"",style:{height:"20px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{class:"col bg-blue-2",flat:"",bordered:""},{default:(0,i.w5)((()=>[re])),_:1}),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(r,{class:"col-2 bg-blue-2",flat:"",bordered:""},{default:(0,i.w5)((()=>[se])),_:1}),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(r,{class:"col-2 bg-blue-2",flat:"",bordered:""},{default:(0,i.w5)((()=>[de])),_:1}),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(r,{class:"col bg-blue-2",flat:"",bordered:""},{default:(0,i.w5)((()=>[ue])),_:1})])),_:1}),(0,i.Wm)(s,{horizontal:""}),(0,i.Wm)(d,{horizontal:"",style:{"min-height":"50px"},modelValue:e.model,"onUpdate:modelValue":o[4]||(o[4]=o=>e.model=o)},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{class:"col",flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{"expand-icon-toggle":"","expand-separator":"",label:"Detalle MDVs",caption:e.identificador},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.acciones.detalleHitosAReporte,(o=>((0,i.wg)(),(0,i.iD)("div",{key:o.id,style:{"word-wrap":"break-word"}},(0,t.zw)(e.identificador)+"_"+(0,t.zw)(e.idTactica)+"_"+(0,t.zw)(o.label),1)))),128))])),_:1},8,["caption"])])),_:1}),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(r,{class:"col-2",flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{"input-class":"text-right",modelValue:e.porcentajeLogro,"onUpdate:modelValue":o[1]||(o[1]=o=>e.porcentajeLogro=o),borderless:"",suffix:"%",readonly:""},null,8,["modelValue"])])),_:1}),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(r,{class:"col-2",flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{modelValue:e.indicadorLogro,"onUpdate:modelValue":o[2]||(o[2]=o=>e.indicadorLogro=o),options:e.opcionesLogro,label:"No logrado/Logrado con atraso/Logrado",style:{width:"100%"}},null,8,["modelValue","options"])])),_:1}),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(r,{class:"col",flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{style:{height:"auto"},modelValue:e.comentario_cumplimiento,"onUpdate:modelValue":o[3]||(o[3]=o=>e.comentario_cumplimiento=o),borderless:"",type:"textarea",label:"Ingresar comentario al cumplimiento"},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])])),_:1})]),(0,i.Wm)(f),pe,(0,i.Wm)(f),me,(0,i.Wm)(s,{inset:""}),(0,i._)("div",be,[(0,i.Wm)(g,{class:"q-ml-sm",color:"btnCancelar",label:"   Cancelar   ",onClick:e.cancelarReporte},null,8,["onClick"]),(0,i.Wm)(g,{color:"btnContinuar",onClick:e.guardarHito,label:"   Siguiente Hito   ",class:"q-ml-sm"},null,8,["onClick"])]),(0,i.Wm)(f),fe],64)}const ve=(0,i.aZ)({props:{descripcionTactica:String,mdv:Object,stepPasoHito:Number,detalleProductos:Array,identificador:String,indicadorLogro:String,comentario:String,idTactica:String},methods:{hitosAReporte(e,o){const a=this.detalleProductos.filter((e=>e.value===o)),i=this.acciones.detalleAccion.hitos.filter((function(e){return a.find((o=>o.hitos===e.value))}));return this.arrayIdHitosReporte=i.map((e=>e.value)),this.arrayIdHitosReporte.length?this.porcentajeLogro=100:this.porcentajeLogro=0,i}},emits:["cambioHito"],setup(e,o){let{emit:a}=o;const t=(0,x.oR)(),c=(0,j.tv)(),l=(0,E.iH)(""),n=((0,i.Fl)((()=>t.state.reporte)),(0,i.Fl)((()=>t.state.accion))),r=n.value.detalleAccion.hitos,s=(0,E.iH)(e.indicadorLogro),d=["No logrado","Logrado con atrasos","Logrado"],u=(0,E.iH)(""),p=(0,E.iH)(e.detalleProductos),m=((0,E.iH)(""),(0,E.iH)(e.comentario)),b=(0,E.iH)(e.identificador),f=(0,E.iH)(e.mdv),g=(0,E.iH)(e.stepPasoHito),v=(0,E.iH)(""),_=(0,E.iH)(""),h=(0,E.iH)(e.idTactica),W=(0,i.Fl)({get:()=>{f.value=e.mdv;const o={idMdv:f.value.value,detalleProductos:e.detalleProductos};t.dispatch("accion/reqDetalleHitosAReporte",o),v.value=n.value.hitosAReporte,v.value.length?u.value=100:u.value=0,m.value=e.comentario,b.value=e.identificador,s.value=e.indicadorLogro,h.value=e.idTactica,g.value=e.stepPasoHito}}),A=()=>{const o={id_tactica:h.value,mdv:e.mdv.value,hitos:v.value,indicador:u.value,indicador_logro:s.value,comentario_cumplimiento:m.value};t.dispatch("reporte/setHitosPorAccionParaReporte",o),g.value+=1,u.value="",s.value="",m.value="",g.value>n.value.detalleAccion.mdvs.length-1&&t.dispatch("accion/limpiaDetalleAccion"),a("cambioHito",1)},w=()=>{a("cambioHito",-1)};return{idTactica:_,arrayIdHitosReporte:v,acciones:n,hitosIngresados:r,detalleProductos:p,mdv:f,hitoAnterior:w,guardarHito:A,id_tactica:h,porcentajeLogro:u,porcentaje:l,pasoHito:g,model:W,indicadorLogro:s,comentario_cumplimiento:m,opcionesLogro:d,descripcionTactica:(0,E.Vh)(e,"descripcionTactica"),identificador:b,cancelarReporte:()=>{t.dispatch("accion/limpiaAccionAReportar"),t.dispatch("reporte/limpiaReporteHitos"),t.dispatch("reporte/limpiaReporteFunciones"),c.push("panelReportesUpci")}}}});var _e=a(67208);const he=(0,N.Z)(ve,[["render",ge]]),We=he;ae()(ve,"components",{QCard:O.Z,QCardSection:B.Z,QItemLabel:Y.Z,QSeparator:K.Z,QExpansionItem:G.Z,QInput:X.Z,QSelect:_e.Z,QSpace:$.Z,QBtn:ee.Z});const Ae={align:"center"},we=(0,i._)("p",{align:"left"},[(0,i._)("b",{style:{"padding-left":"20px"}}," 2.- Evaluación Final ")],-1),He={align:"center"},Fe=(0,i._)("b",null,"Estado de Ejecución",-1),Re={style:{height:"1px"}},ye=(0,i._)("b",null,"Presenta justificación por contingencia",-1),Pe={class:"q-gutter-sm",style:{"max-width":"300px"}},qe=(0,i._)("b",null,"Fecha Entrega reporte",-1),Ve=(0,i._)("br",null,null,-1),Ce={class:"row justify-end q-gutter-sm q-ma-md"},Ee=(0,i._)("br",null,null,-1);function xe(e,o,a,c,l,n){const r=(0,i.up)("q-item-label"),s=(0,i.up)("q-separator"),d=(0,i.up)("q-select"),u=(0,i.up)("q-card-section"),p=(0,i.up)("q-item-section"),m=(0,i.up)("q-input"),b=(0,i.up)("q-space"),f=(0,i.up)("q-btn"),g=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",Ae,[(0,i.Wm)(g,{style:{width:"65%"},flat:""},{default:(0,i.w5)((()=>[we,(0,i._)("div",He,[(0,i.Wm)(u,{horizontal:"",style:{height:"55px"},modelValue:e.model,"onUpdate:modelValue":o[1]||(o[1]=o=>e.model=o)},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{class:"col-3 bg-blue-2",flat:"",bordered:""},{default:(0,i.w5)((()=>[Fe])),_:1}),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(r,{class:"col-2",flat:"",bordered:"",style:{height:"25px"}},{default:(0,i.w5)((()=>[(0,i._)("div",Re,[(0,i.Wm)(d,{modelValue:e.indicadorEstadoEjecucion,"onUpdate:modelValue":o[0]||(o[0]=o=>e.indicadorEstadoEjecucion=o),options:e.opcionesJustificacion,style:{width:"450%"}},null,8,["modelValue","options"])])])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(s,{horizontal:""}),(0,i.Wm)(u,{horizontal:"",style:{height:"75px"},modelValue:e.model,"onUpdate:modelValue":o[4]||(o[4]=o=>e.model=o)},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{class:"col-3 bg-blue-2",flat:"",bordered:"",style:{"padding-top":"4px"}},{default:(0,i.w5)((()=>[ye])),_:1}),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(p,{class:"col-1",style:{"padding-top":"19px","padding-left":"2px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{modelValue:e.justificacion,"onUpdate:modelValue":o[2]||(o[2]=o=>e.justificacion=o),options:e.opcionesEjecucion,style:{width:"100%"}},null,8,["modelValue","options"])])),_:1}),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(p,{class:"col-4",style:{height:"75px","padding-top":"19px","padding-left":"2px"}},{default:(0,i.w5)((()=>[(0,i._)("div",Pe,[(0,i.Wm)(m,{modelValue:e.reporteJustificacion,"onUpdate:modelValue":o[3]||(o[3]=o=>e.reporteJustificacion=o),autogrow:"",type:"textarea"},null,8,["modelValue"])])])),_:1}),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(r,{class:"col-2 bg-blue-2",flat:"",bordered:""},{default:(0,i.w5)((()=>[qe])),_:1}),(0,i.Wm)(s,{vertical:""}),(0,i.Wm)(r,{class:"col-2",flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,t.zw)(e.fechaFormateada),1)])),_:1})])),_:1},8,["modelValue"])]),(0,i.Wm)(b),Ve,(0,i.Wm)(s,{inset:""}),(0,i._)("div",Ce,[(0,i.Wm)(f,{class:"q-ml-sm",color:"btnCancelar",label:"   Cancelar   ",onClick:e.cancelarReporte},null,8,["onClick"]),(0,i.Wm)(f,{color:"btnVolver",onClick:e.siguienteAccion,label:"   Siguiente    ",class:"q-ml-sm"},null,8,["onClick"])]),(0,i.Wm)(b),Ee])),_:1})])}const je=(0,i.aZ)({props:{idAccion:Number,opcionesJustificacion:Array,stepPasoAccion:Number,fechaFormateada:String,indicadorEstado:String,justificacion:String,reporteJustificacion:String,reporteAcciones:Array},methods:{},emits:["cambioAccion"],setup(e,o){let{emit:a}=o;const t=(0,x.oR)(),c=(0,j.tv)(),l=(0,i.Fl)((()=>t.state.accion)),n=(0,E.iH)(""),r=["Si","No"],s=(0,E.iH)(""),d=(0,E.iH)(e.reporteJustificacion),u=(0,E.iH)(""),p=(0,E.iH)(e.idAccion),m=(0,E.iH)(e.stepPasoAccion),b=(0,i.Fl)({get:()=>{p.value=e.idAccion,s.value=e.indicadorEstado,u.value=e.justificacion,d.value=e.reporteJustificacion}}),f=()=>{const o=(0,i.Fl)((()=>t.state.reporte)),c=(0,E.iH)(""),l=(0,E.iH)("");o.value.reporteFunciones?c.value=o.value.reporteFunciones:c.value=[],o.value.reporteHitos?l.value=o.value.reporteHitos:l.value=[];const n={accion:p.value,estado_ejecucion:s.value,justificacion_contingencia:u.value,reporte_justificacion_contingencia:d.value,reporte_funciones:c.value,reporte_hitos:l.value};t.dispatch("reporte/setReporteAcciones",n),m.value+=1,m.value>e.reporteAcciones.length-1?a("cambioAccion",null):(t.dispatch("accion/reqFuncionesPorAccion",e.reporteAcciones[m.value].accion),t.dispatch("accion/reqMdvFuncionesEHitosPorAccion",e.reporteAcciones[m.value].accion),t.dispatch("producto/reqHitosReporte",e.reporteAcciones[m.value].accion),a("cambioAccion",1))};return{siguienteAccion:f,model:b,accionesAReportar:n,idAccion:p,accion:l,opcionesJustificacion:(0,E.Vh)(e,"opcionesJustificacion"),opcionesEjecucion:r,justificacion:u,indicadorEstadoEjecucion:s,reporteJustificacion:d,fechaFormateada:(0,E.Vh)(e,"fechaFormateada"),cancelarReporte:()=>{t.dispatch("reporte/limpiaReporteFunciones"),t.dispatch("reporte/limpiaReporteHitos"),c.push("panelReportesUpci")},guardar:()=>{const o=(0,i.Fl)((()=>t.state.reporte)),a=(0,i.Fl)((()=>t.state.reporte));p.value,s.value,u.value,d.value,o.value.reporteFunciones,a.value.reporteHitos;m.value+=1,e.stepPasoAccion,n.value.length}}}});var ke=a(52035);const ze=(0,N.Z)(je,[["render",xe]]),Ze=ze;ae()(je,"components",{QCard:O.Z,QCardSection:B.Z,QItemLabel:Y.Z,QSeparator:K.Z,QSelect:_e.Z,QItemSection:ke.Z,QInput:X.Z,QSpace:$.Z,QBtn:ee.Z});const Se=(0,i.aZ)({components:{ReporteFuncionesEdicion:te,ReporteHitosEdicion:We,ReporteAccionesEdicion:Ze},props:{usuario:Object,entrega:Object,tipoEntrega:String},methods:{defineActor(e){return e[0].actor.id_uaysen},validaReporteHito(){return!(this.acciones.funciones.length||!this.acciones.detalleAccion||!this.acciones.detalleAccion.mdvs.length)},validaReporteAccion(){return!(this.acciones.funciones.length||this.acciones.detalleAccion&&this.acciones.detalleAccion.mdvs.length)},validaFinReporte(){return!this.stepPasoAccion}},setup(){const e=(0,x.oR)(),o=(0,j.tv)(),a=Date.now(),t=new Date(a),c=t.toLocaleDateString(),l=t.getFullYear(),n=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],r=new Date,s=n[r.getMonth()],d=(0,i.Fl)((()=>e.state.reporte.aEditar)),u=(0,i.Fl)((()=>e.state.accion.acciones)),p=(0,i.Fl)((()=>e.state.accion)),m=(0,i.Fl)((()=>e.state.producto.totalHitos)),b=((0,E.iH)(""),(0,E.iH)(""),(0,E.iH)(""),(0,E.iH)("")),f=(0,i.Fl)((()=>e.state.usuarix.usuario)),g=["Implementado","No implementado","En proceso","Pendiente","No aplicable","No cumplido"],v=(0,E.iH)(d.value.recomendacion),_=(0,E.iH)(0),h=(0,E.iH)(0),W=(0,E.iH)(0),A=(0,E.iH)(0),w=(0,E.iH)(!1),H=(0,E.iH)({pasoAccion:0}),F=e=>{_.value+=e},R=e=>{W.value+=e},y=async o=>{e.dispatch("reporte/limpiaReporteFunciones"),e.dispatch("reporte/limpiaReporteHitos"),o?(A.value+=o,await e.dispatch("accion/reqDetalleAccion",d.value.reporte_acciones[A.value].accion),_.value=0,W.value=0):w.value=!0},P=()=>{const a=(0,i.Fl)((()=>e.state.reporte)),t={id:d.value.id,usuario:f.value.id,actor:d.value.actor,estado:"Borrador",recomendacion:v.value,reporte_acciones:a.value.reporteAcciones};e.dispatch("reporte/patchReporte",t),e.dispatch("reporte/limpiaReporteAccion"),o.push("panelReportesUpci")},q=()=>{const a=(0,i.Fl)((()=>e.state.reporte)),t={id:d.value.id,usuario:f.value.id,actor:d.value.actor,estado:"Finalizado",recomendacion:v.value,reporte_acciones:a.value.reporteAcciones};e.dispatch("reporte/patchReporte",t),e.dispatch("reporte/limpiaReporteAccion"),o.push("panelReportesUpci")},V={accion:"",estado_ejecucion:"",justificacion_contingencia:"",reporte_justificacion_contingencia:"",reporte_funciones:[],reporte_hitos:[]},C=(0,E.iH)(),k=(0,E.iH)(),z=(0,E.iH)(),Z=(0,E.iH)(!1);return{actor:b,stepRolSet:h,reporteAEditar:d,detalleProductos:m,fechaFormateada:c,stepPasoAccion:A,pasoFuncion:Z,finReporteAccion:w,stepPasoFuncion:_,guardarReporteFinal:q,cambioPasoFuncion:F,cambioPasoHito:R,cambioPasoAccion:y,stepPasoHito:W,accionesAReportar:u,acciones:p,totalFunciones:C,totalMDV:k,totalHito:z,steps:H,anio:l,mes:s,usuario:f,estado:"Borrador",recomendacion:v,reporte_accion:V,opcionesJustificacion:g,guardarReporte:P,cancelarReporte:()=>{e.dispatch("reporte/limpiaReporteFunciones"),e.dispatch("reporte/limpiaReporteHitos"),e.dispatch("reporte/limpiaReporteAEditar"),o.push("panelReportesUpci")}}}}),Qe=(0,N.Z)(Se,[["render",C],["__scopeId","data-v-2eb4b85f"]]),De=Qe;ae()(Se,"components",{QCard:O.Z,QCardSection:B.Z,QItemLabel:Y.Z,QSeparator:K.Z,QSpace:$.Z,QInput:X.Z,QBtn:ee.Z})}}]);