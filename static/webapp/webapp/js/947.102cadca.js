"use strict";(self["webpackChunkspci"]=self["webpackChunkspci"]||[]).push([[947],{87947:(o,l,e)=>{e.r(l),e.d(l,{default:()=>A});var a=e(83673);const i={class:"q-pa-md text-textoAzul"},t=(0,a._)("div",{class:"text-h6"},[(0,a._)("b",null,"Navegador POA")],-1),n={class:"q-pa-md tablaAcciones"},c={class:"q-gutter-md row"};function s(o,l,e,s,r,d){const u=(0,a.up)("q-select"),p=(0,a.up)("q-btn"),m=(0,a.up)("q-space"),b=(0,a.up)("q-table");return(0,a.wg)(),(0,a.iD)("div",i,[t,(0,a._)("div",n,[(0,a._)("div",c,[(0,a.Wm)(u,{modelValue:o.modelActor,"onUpdate:modelValue":l[0]||(l[0]=l=>o.modelActor=l),options:o.usuario.opciones.actores,label:"Actor",style:{width:"20em"}},null,8,["modelValue","options"]),(0,a.Wm)(u,{modelValue:o.modelRol,"onUpdate:modelValue":l[1]||(l[1]=l=>o.modelRol=l),options:o.usuario.opciones.roles,label:"Rol",style:{width:"10em"}},null,8,["modelValue","options"]),(0,a.Wm)(u,{modelValue:o.modelTipo,"onUpdate:modelValue":l[2]||(l[2]=l=>o.modelTipo=l),options:o.usuario.opciones.tipos,label:"Tipo",style:{width:"10em"}},null,8,["modelValue","options"])])]),(0,a.Wm)(p,{label:"Filtrar",onClick:o.filtraAcciones,class:"q-ma-sm","no-caps":"",color:"btnContinuar"},null,8,["onClick"]),(0,a.Wm)(m),(0,a.Wm)(b,{rows:o.accion.acciones,columns:o.columnasTabla,"row-key":"id_uaysen","no-data-label":"No hay datos para el fitro aplicado",class:"tablaAcciones"},{"top-right":(0,a.w5)((()=>[(0,a.Wm)(p,{color:"primary","icon-right":"archive",label:"Exportar a CSV","no-caps":"",onClick:o.exportTable},null,8,["onClick"])])),_:1},8,["rows","columns"])])}var r=e(61959),d=e(93617),u=e(12841);const p=(0,a.aZ)({setup(){const o=(0,d.oR)(),l=(0,a.Fl)((()=>o.state.accion)),e=(0,a.Fl)((()=>o.state.usuarix)),i=(0,r.iH)({label:"Todos",value:"Todos"}),t=(0,r.iH)("Todos"),n=(0,r.iH)("Todos"),c=(o,l,e)=>{let a=void 0!==l?l(o,e):o;return a=void 0===a||null===a?"":String(a),a=a.split('"').join('""'),'"'.concat(a,'"')},s=[{name:"accion",label:"Acción",field:"id_uaysen",align:"left",sortable:!0},{name:"titulo",label:"Título",field:"titulo",align:"left",style:"white-space: normal"},{name:"objetivo",label:"Objetivo de la acción",field:"objetivo",align:"left",style:"white-space: normal"},{name:"tipo",label:"Tipo",field:"tipo",align:"left",sortable:!0},{name:"proyecto",label:"Proyecto",field:"proyecto",align:"left",sortable:!0}];return(0,a.bv)((()=>{o.dispatch("accion/limpiaAcciones")})),(0,a.Ah)((()=>{o.dispatch("accion/limpiaAcciones")})),{accion:l,usuario:e,modelActor:i,modelRol:t,modelTipo:n,columnasTabla:s,filtraAcciones:()=>{o.dispatch("accion/reqFiltraAcciones",{actor:i.value.value,rol:t.value,tipo:n.value})},exportTable(){const o=[s.map((o=>c(o.label)))].concat(l.value.acciones.map((o=>s.map((l=>c("function"===typeof l.field?l.field(o):o[void 0===l.field?l.name:l.field],l.format,o))).join(",")))).join("\r\n"),e=(0,u.Z)("datos_del_navegador_poa.csv",o,"text/csv");!0!==e&&$q.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})}}},computed:{...(0,d.rn)(["accion","usuarix"])}});var m=e(74260),b=e(67208),f=e(48240),v=e(62025),h=e(82138),w=e(7518),g=e.n(w);const y=(0,m.Z)(p,[["render",s]]),A=y;g()(p,"components",{QSelect:b.Z,QBtn:f.Z,QSpace:v.Z,QTable:h.Z})}}]);