"use strict";(self["webpackChunkspci"]=self["webpackChunkspci"]||[]).push([[755],{30755:(e,a,o)=>{o.r(a),o.d(a,{default:()=>Te});var t=o(83673),i=o(62323);const l=e=>((0,t.dD)("data-v-32b6f1fb"),e=e(),(0,t.Cn)(),e),c=l((()=>(0,t._)("div",{title:"header"},[(0,t._)("p",{align:"center",style:{"margin-bottom":"1,0cm","line-height":"30%"}},[(0,t._)("img",{id:"logo",src:"/static/uaysen-nuevo-1.png",name:"image1.jpg",align:"bottom",width:"70",height:"90",border:"0"})])],-1))),n=l((()=>(0,t._)("div",null,[(0,t._)("p",{align:"center",style:{"margin-bottom":"0.2cm","line-height":"40%"}},[(0,t._)("b",null,"REPORTE MEDIOS DE VERIFICACIÓN")])],-1))),r={align:"center",style:{"margin-bottom":"0.2cm","line-height":"108%"}},s={align:"center",style:{"margin-bottom":"0cm","line-height":"90%","page-break-before":"auto"}},d=l((()=>(0,t._)("br",null,null,-1))),u=l((()=>(0,t._)("br",null,null,-1))),p={align:"center"},m=l((()=>(0,t._)("b",{style:{"font-size":"11pt","text-align":"center"}},"Título Acción",-1))),b=l((()=>(0,t._)("b",{style:{"text-align":"center"}},"Identificador Acción",-1))),f=l((()=>(0,t._)("b",null,"Unidad Responsable",-1))),g=l((()=>(0,t._)("br",null,null,-1))),h=l((()=>(0,t._)("br",null,null,-1))),v=l((()=>(0,t._)("br",null,null,-1))),_={key:0,align:"center"},W={key:1,align:"center"},w={key:2,align:"center"},H=l((()=>(0,t._)("br",null,null,-1))),A={align:"center",style:{height:"auto"}},F=l((()=>(0,t._)("b",null,"Analista",-1))),R={align:"left"},y=l((()=>(0,t._)("b",null,"Recomendaciones",-1))),q=l((()=>(0,t._)("br",null,null,-1))),P={class:"row justify-end q-gutter-sm q-ma-md",style:{width:"65%"}},V=l((()=>(0,t._)("br",null,null,-1)));function C(e,a,o,l,C,x){const Z=(0,t.up)("q-item-label"),k=(0,t.up)("q-separator"),z=(0,t.up)("q-card-section"),j=(0,t.up)("q-card"),Q=(0,t.up)("q-space"),S=(0,t.up)("ReporteFunciones"),I=(0,t.up)("ReporteHitos"),T=(0,t.up)("ReporteAcciones"),D=(0,t.up)("q-input"),E=(0,t.up)("q-btn");return(0,t.wg)(),(0,t.j4)(j,{class:"my-card",align:"center",flat:"",bordered:""},{default:(0,t.w5)((()=>[c,n,(0,t._)("div",null,[(0,t._)("p",r,[(0,t._)("b",null,"Planificación Operativa Anual "+(0,i.zw)(e.anio),1)])]),(0,t._)("div",null,[(0,t._)("p",s,[(0,t._)("b",null,(0,i.zw)(e.mes),1)])]),d,u,e.finReporteAccion?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(z,{key:0,"transition-prev":"slide-down","transition-next":"slide-up"},{default:(0,t.w5)((()=>[(0,t._)("div",p,[(0,t.Wm)(j,{style:{width:"65%"},flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{horizontal:"",style:{height:"auto"}},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,{class:"col-2 bg-blue-2",flat:"",bordered:""},{default:(0,t.w5)((()=>[m])),_:1}),(0,t.Wm)(k,{vertical:""}),(0,t.Wm)(Z,{class:"col bg-deep-orange-1",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t._)("b",null,(0,i.zw)(e.accionesAReportar[e.stepPasoAccion].accion.titulo),1)])),_:1})])),_:1}),(0,t.Wm)(k,{horizontal:""}),(0,t.Wm)(z,{horizontal:"",style:{height:"35px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,{class:"col bg-blue-2"},{default:(0,t.w5)((()=>[b])),_:1}),(0,t.Wm)(k,{vertical:""}),(0,t.Wm)(Z,{class:"col-4"},{default:(0,t.w5)((()=>[(0,t._)("b",null,(0,i.zw)(e.accionesAReportar[e.stepPasoAccion].accion.id_uaysen),1)])),_:1}),(0,t.Wm)(k,{vertical:""}),(0,t.Wm)(Z,{class:"col-4 bg-blue-2"},{default:(0,t.w5)((()=>[f])),_:1}),(0,t.Wm)(k,{vertical:""}),(0,t.Wm)(Z,{class:"col"},{default:(0,t.w5)((()=>[(0,t._)("b",null,(0,i.zw)(e.accionesAReportar[e.stepPasoAccion].actor.sigla),1)])),_:1})])),_:1})])),_:1}),(0,t.Wm)(Q),g,(0,t.Wm)(Q),h,v,e.acciones.funciones.length?((0,t.wg)(),(0,t.iD)("div",_,[(0,t.Wm)(S,{descripcionTactica:e.acciones.funciones[e.stepPasoFuncion].nombre,indicadores:e.acciones.funciones[e.stepPasoFuncion].indicador_set,funcion:e.acciones.funciones[e.stepPasoFuncion].indicador_set[0].funcion,stepPasoFuncion:e.stepPasoFuncion,identificador:e.accionesAReportar[e.stepPasoAccion].accion.id_uaysen,onCambioFuncion:e.cambioPasoFuncion},null,8,["descripcionTactica","indicadores","funcion","stepPasoFuncion","identificador","onCambioFuncion"])])):(0,t.kq)("",!0),e.validaReporteHito()?((0,t.wg)(),(0,t.iD)("div",W,[(0,t.Wm)(I,{descripcionTactica:e.acciones.detalleAccion.mdvs[e.stepPasoHito].label,mdv:e.acciones.detalleAccion.mdvs[e.stepPasoHito],stepPasoHito:e.stepPasoHito,identificador:e.accionesAReportar[e.stepPasoAccion].accion.id_uaysen,detalleProductos:e.detalleProductos,onCambioHito:e.cambioPasoHito},null,8,["descripcionTactica","mdv","stepPasoHito","identificador","detalleProductos","onCambioHito"])])):(0,t.kq)("",!0),e.validaReporteAccion()?((0,t.wg)(),(0,t.iD)("div",w,[(0,t.Wm)(T,{idAccion:e.accionesAReportar[e.stepPasoAccion].accion.id,opcionesJustificacion:e.opcionesJustificacion,stepPasoAccion:e.stepPasoAccion,fechaFormateada:e.fechaFormateada,onCambioAccion:e.cambioPasoAccion},null,8,["idAccion","opcionesJustificacion","stepPasoAccion","fechaFormateada","onCambioAccion"])])):(0,t.kq)("",!0),(0,t.Wm)(Q),H])])),_:1})),e.finReporteAccion?((0,t.wg)(),(0,t.j4)(z,{key:1,"transition-prev":"slide-down","transition-next":"slide-up"},{default:(0,t.w5)((()=>[(0,t._)("div",A,[(0,t.Wm)(j,{style:{width:"65%"},flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{horizontal:"",style:{height:"30px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,{class:"col-3 bg-blue-2",flat:"",bordered:"",style:{"padding-top":"5px"}},{default:(0,t.w5)((()=>[F])),_:1}),(0,t.Wm)(k,{vertical:""}),(0,t.Wm)(Z,{class:"col-6",flat:"",bordered:"",style:{"padding-top":"5px","padding-left":"3px"}},{default:(0,t.w5)((()=>[(0,t._)("div",R,(0,i.zw)(e.usuario.nombre)+" "+(0,i.zw)(e.usuario.apellido),1)])),_:1})])),_:1}),(0,t.Wm)(k,{horizontal:""}),(0,t.Wm)(z,{horizontal:"",style:{height:"auto",width:"100%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,{class:"col-3 bg-blue-2",flat:"",bordered:"",style:{"padding-top":"20px"}},{default:(0,t.w5)((()=>[y])),_:1}),(0,t.Wm)(k,{vertical:""}),(0,t.Wm)(Z,{class:"col-9"},{default:(0,t.w5)((()=>[(0,t.Wm)(D,{modelValue:e.recomendacion,"onUpdate:modelValue":a[0]||(a[0]=a=>e.recomendacion=a),style:{"padding-left":"3px"},type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})]),q,(0,t.Wm)(k,{inset:"",style:{width:"65%"}}),(0,t._)("div",P,[(0,t.Wm)(E,{class:"q-ml-sm",color:"btnCancelar",label:"   Cancelar  ",onClick:e.cancelarReporte},null,8,["onClick"]),(0,t.Wm)(E,{class:"q-ml-sm",color:"btnAdjuntar",label:"   Guardar Reporte  ",onClick:e.guardarReporte},null,8,["onClick"])])])),_:1})):(0,t.kq)("",!0),(0,t.Wm)(Q),V])),_:1})}var x=o(61959),Z=o(93617),k=o(79582);const z={align:"center"},j=(0,t._)("div",{class:"q-pa-md q-gutter-sm",style:{width:"65%"}},[(0,t._)("p",{align:"left"},[(0,t._)("b",null,"1.- Evaluación entrega a Medios de Verificación")])],-1),Q=(0,t._)("b",null,"Función",-1),S=(0,t._)("b",null,"MDV",-1),I=(0,t._)("b",null,"Indicador de Avance",-1),T=(0,t._)("b",null,"Comentario al cumplimiento",-1),D=(0,t._)("br",null,null,-1),E=(0,t._)("br",null,null,-1),U={class:"row justify-end q-gutter-sm q-ma-md"},L=(0,t._)("br",null,null,-1);function M(e,a,o,l,c,n){const r=(0,t.up)("q-item-label"),s=(0,t.up)("q-separator"),d=(0,t.up)("q-item-labeln"),u=(0,t.up)("q-card-section"),p=(0,t.up)("q-expansion-item"),m=(0,t.up)("q-input"),b=(0,t.up)("q-card"),f=(0,t.up)("q-space"),g=(0,t.up)("q-btn");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",z,[j,(0,t.Wm)(b,{style:{width:"65%"},flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{horizontal:"",style:{height:"40px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{class:"col-1 bg-blue-2",flat:"",bordered:""},{default:(0,t.w5)((()=>[Q])),_:1}),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(d,{class:"col-2 bg-deep-orange-1",flat:"",bordered:"",modelValue:e.id_tactica,"onUpdate:modelValue":a[0]||(a[0]=a=>e.id_tactica=a)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(e.getIdTactica()),1)])),_:1},8,["modelValue"]),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(r,{class:"col bg-deep-orange-1",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(e.descripcionTactica),1)])),_:1})])),_:1}),(0,t.Wm)(s,{horizontal:""}),(0,t.Wm)(u,{horizontal:"",style:{height:"20px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{class:"col-3 bg-blue-2",flat:"",bordered:""},{default:(0,t.w5)((()=>[S])),_:1}),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(r,{class:"col-3 bg-blue-2",flat:"",bordered:""},{default:(0,t.w5)((()=>[I])),_:1}),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(r,{class:"col bg-blue-2",flat:"",bordered:""},{default:(0,t.w5)((()=>[T])),_:1})])),_:1}),(0,t.Wm)(s,{horizontal:""}),(0,t.Wm)(u,{horizontal:"",style:{height:"auto"},modelValue:e.model,"onUpdate:modelValue":a[3]||(a[3]=a=>e.model=a)},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{class:"col-3",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{"expand-icon-toggle":"","expand-separator":"",label:"Detalle MDVs",caption:e.identificador},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.indicadores,(a=>((0,t.wg)(),(0,t.iD)("div",{key:a.id},(0,i.zw)(e.identificador)+"_"+(0,i.zw)(e.idTactica)+"_"+(0,i.zw)(a.nombre),1)))),128))])),_:1},8,["caption"])])),_:1}),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(r,{class:"col-3",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{label:e.labelMetaAvance,"input-class":"text-right",modelValue:e.indicadorAvance,"onUpdate:modelValue":a[1]||(a[1]=a=>e.indicadorAvance=a),borderless:"",suffix:"%",readonly:""},null,8,["label","modelValue"])])),_:1}),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(r,{class:"col",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{style:{height:"auto"},modelValue:e.comentario_cumplimiento,"onUpdate:modelValue":a[2]||(a[2]=a=>e.comentario_cumplimiento=a),borderless:"",type:"textarea",label:"Ingresar comentario al cumplimiento"},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])])),_:1})]),(0,t.Wm)(f),D,(0,t.Wm)(f),E,(0,t.Wm)(s,{inset:""}),(0,t._)("div",U,[(0,t.Wm)(g,{class:"q-ml-sm",color:"btnCancelar",label:"   Cancelar   ",onClick:e.cancelarReporte},null,8,["onClick"]),(0,t.Wm)(g,{color:"btnContinuar",onClick:e.guardarFuncion,label:"   Siguiente Función   ",class:"q-ml-sm"},null,8,["onClick"])]),(0,t.Wm)(f),L],64)}const J=(0,t.aZ)({props:{descripcionTactica:String,indicadores:Array,funcion:Number,stepPasoFuncion:Number,identificador:String},methods:{getIdTactica(){const e=this.id_tactica+1;return this.id_tactica<10?this.idTactica="F0"+e.toString():this.idTactica="F"+e.toString(),this.idTactica}},emits:["cambioFuncion"],setup(e,a){let{emit:o}=a;const i=(0,Z.oR)(),l=(0,k.tv)(),c=(0,t.Fl)((()=>i.state.reporte)),n=(0,t.Fl)((()=>i.state.accion)),r=((0,x.iH)(),(0,x.iH)(),(0,x.iH)("")),s=((0,x.iH)(),e.generaReporte),d=(0,t.Fl)((()=>i.state.verificador)),u=((0,t.Fl)((()=>i.state.verificador.verificador)),(0,x.iH)(""),(0,x.iH)("")),p=(0,x.iH)(""),m=(0,x.iH)(e.stepPasoFuncion),b=(0,x.iH)(""),f=(0,x.iH)(""),g=(0,t.Fl)({get:()=>{p.value=h()},set:e=>o("cambioFuncion",e)}),h=()=>{var a;e.indicadores.length,a=e.indicadores[0].id,i.dispatch("verificador/reqVerificadorPorIndicador",a),i.dispatch("reporte/reqTotalMetasPorFuncion",e.funcion);let o=(0,t.Fl)((()=>i.state.reporte.total_meta)).value,l=(0,t.Fl)((()=>i.state.verificador.avance)).value;return l?(b.value="Meta ("+o+") / Avance ("+l+")",Math.floor(l/o*100)):(b.value="Meta ("+o+") / Avance (0)",Math.floor(0/o*100))},v=()=>{p.value=h();const a={id_tactica:r.value,funcion:e.indicadores[0].funcion,indicador:p.value,comentario_cumplimiento:u.value};i.dispatch("reporte/setFuncionesPorAccionParaReporte",a),m.value+=1,p.value="",u.value="",m.value>n.value.funciones.length-1&&i.dispatch("accion/limpiaFunciones"),o("cambioFuncion",1)},_=()=>{o("cambioFuncion",-1)};return{idTactica:r,meta:(0,t.Fl)((()=>i.state.reporte.total_meta)),avance:(0,t.Fl)((()=>i.state.verificador.avance)),labelMetaAvance:b,indicadorAvance:p,entregas:d,calculoAvance:h,guardarFuncion:v,pasoFuncion:m,reporteFuncion:c,cancelarReporte:()=>{i.dispatch("reporte/limpiaReporteFunciones"),i.dispatch("reporte/limpiaReporteHitos"),l.push("panelReportesUpci")},funcionAnterior:_,generaReporte:s,comentario_cumplimiento:u,descripcionTactica:(0,x.Vh)(e,"descripcionTactica"),id_tactica:(0,x.Vh)(e,"stepPasoFuncion"),indicadores:(0,x.Vh)(e,"indicadores"),identificador:(0,x.Vh)(e,"identificador"),model:g,mostrar:f,acciones:n}}});var N=o(74260),B=o(10151),O=o(25589),Y=o(2350),K=o(65869),G=o(60429),X=o(34842),$=o(62025),ee=o(48240),ae=o(7518),oe=o.n(ae);const te=(0,N.Z)(J,[["render",M]]),ie=te;oe()(J,"components",{QCard:B.Z,QCardSection:O.Z,QItemLabel:Y.Z,QSeparator:K.Z,QExpansionItem:G.Z,QInput:X.Z,QSpace:$.Z,QBtn:ee.Z});const le={align:"center"},ce=(0,t._)("div",{class:"q-pa-md q-gutter-sm",style:{width:"65%"}},[(0,t._)("p",{align:"left"},[(0,t._)("b",null,"1.- Evaluación entrega a Medios de Verificación")])],-1),ne=(0,t._)("b",null,"Hito",-1),re=(0,t._)("b",null,"MDV",-1),se=(0,t._)("b",null,"Logro",-1),de=(0,t._)("b",null,"Indicador de Logro",-1),ue=(0,t._)("b",null,"Comentario al cumplimiento",-1),pe=(0,t._)("br",null,null,-1),me=(0,t._)("br",null,null,-1),be={class:"row justify-end q-gutter-sm q-ma-md"},fe=(0,t._)("br",null,null,-1);function ge(e,a,o,l,c,n){const r=(0,t.up)("q-item-label"),s=(0,t.up)("q-separator"),d=(0,t.up)("q-card-section"),u=(0,t.up)("q-expansion-item"),p=(0,t.up)("q-input"),m=(0,t.up)("q-select"),b=(0,t.up)("q-card"),f=(0,t.up)("q-space"),g=(0,t.up)("q-btn");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",le,[ce,(0,t.Wm)(b,{style:{width:"65%"},flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{horizontal:"",style:{height:"40px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{class:"col-1 bg-blue-2",flat:"",bordered:""},{default:(0,t.w5)((()=>[ne])),_:1}),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(r,{class:"col-2 bg-deep-orange-1",flat:"",bordered:"",modelValue:e.id_tactica,"onUpdate:modelValue":a[0]||(a[0]=a=>e.id_tactica=a)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(e.getIdTactica()),1)])),_:1},8,["modelValue"]),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(r,{class:"col bg-deep-orange-1",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(e.descripcionTactica),1)])),_:1})])),_:1}),(0,t.Wm)(s,{horizontal:""}),(0,t.Wm)(d,{horizontal:"",style:{height:"20px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{class:"col bg-blue-2",flat:"",bordered:""},{default:(0,t.w5)((()=>[re])),_:1}),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(r,{class:"col-2 bg-blue-2",flat:"",bordered:""},{default:(0,t.w5)((()=>[se])),_:1}),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(r,{class:"col-2 bg-blue-2",flat:"",bordered:""},{default:(0,t.w5)((()=>[de])),_:1}),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(r,{class:"col bg-blue-2",flat:"",bordered:""},{default:(0,t.w5)((()=>[ue])),_:1})])),_:1}),(0,t.Wm)(s,{horizontal:""}),(0,t.Wm)(d,{horizontal:"",style:{"min-height":"50px"},modelValue:e.model,"onUpdate:modelValue":a[4]||(a[4]=a=>e.model=a)},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{class:"col",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{"expand-icon-toggle":"","expand-separator":"",label:"Detalle MDVs",caption:e.identificador},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.acciones.detalleHitosAReporte,(a=>((0,t.wg)(),(0,t.iD)("div",{key:a.id,style:{"word-wrap":"break-word"}},(0,i.zw)(e.identificador)+"_"+(0,i.zw)(e.idTactica)+"_"+(0,i.zw)(a.label),1)))),128))])),_:1},8,["caption"])])),_:1}),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(r,{class:"col-2",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{"input-class":"text-right",modelValue:e.porcentajeLogro,"onUpdate:modelValue":a[1]||(a[1]=a=>e.porcentajeLogro=a),borderless:"",suffix:"%",readonly:""},null,8,["modelValue"])])),_:1}),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(r,{class:"col-2",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{modelValue:e.indicadorLogro,"onUpdate:modelValue":a[2]||(a[2]=a=>e.indicadorLogro=a),options:e.opcionesLogro,label:"No logrado/Logrado con atraso/Logrado",style:{width:"100%"}},null,8,["modelValue","options"])])),_:1}),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(r,{class:"col",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{style:{height:"auto"},modelValue:e.comentario_cumplimiento,"onUpdate:modelValue":a[3]||(a[3]=a=>e.comentario_cumplimiento=a),borderless:"",type:"textarea",label:"Ingresar comentario al cumplimiento"},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])])),_:1})]),(0,t.Wm)(f),pe,(0,t.Wm)(f),me,(0,t.Wm)(s,{inset:""}),(0,t._)("div",be,[(0,t.Wm)(g,{class:"q-ml-sm",color:"btnCancelar",label:"   Cancelar   ",onClick:e.cancelarReporte},null,8,["onClick"]),(0,t.Wm)(g,{color:"btnContinuar",onClick:e.guardarHito,label:"   Siguiente Hito   ",class:"q-ml-sm"},null,8,["onClick"])]),(0,t.Wm)(f),fe],64)}const he=(0,t.aZ)({props:{descripcionTactica:String,mdv:Object,stepPasoHito:Number,detalleProductos:Array,identificador:String},methods:{hitosAReporte(e){const a=this.detalleProductos.filter((a=>a.value===e)),o=this.acciones.detalleAccion.hitos.filter((function(e){return a.find((a=>a.hitos===e.value))}));return this.arrayIdHitosReporte=o.map((e=>e.value)),this.arrayIdHitosReporte.length?this.porcentajeLogro=100:this.porcentajeLogro=0,o},getIdTactica(){const e=this.id_tactica+1;return this.id_tactica<10?this.idTactica="H0"+e.toString():this.idTactica="H"+e.toString(),this.idTactica}},emits:["cambioHito"],setup(e,a){let{emit:o}=a;const i=(0,Z.oR)(),l=(0,k.tv)(),c=(0,x.iH)(""),n=((0,t.Fl)((()=>i.state.reporte)),(0,t.Fl)((()=>i.state.accion))),r=n.value.detalleAccion.hitos,s=(0,x.iH)(""),d=["No logrado","Logrado con atrasos","Logrado"],u=(0,x.iH)(""),p=(0,x.iH)(e.detalleProductos),m=((0,x.iH)(""),(0,x.iH)("")),b=(0,x.iH)(e.identificador),f=(0,x.iH)(e.mdv),g=(0,x.iH)(e.stepPasoHito),h=(0,x.iH)(""),v=(0,x.iH)(""),_=((0,x.iH)(),(0,t.Fl)({get:()=>{f.value=e.mdv;const a={idMdv:f.value.value,detalleProductos:e.detalleProductos};i.dispatch("accion/reqDetalleHitosAReporte",a),h.value=n.value.hitosAReporte,h.value.length?u.value=100:u.value=0}})),W=()=>{const a={id_tactica:v.value,mdv:e.mdv.value,hitos:h.value,indicador:u.value,indicador_logro:s.value,comentario_cumplimiento:m.value};i.dispatch("reporte/setHitosPorAccionParaReporte",a),g.value+=1,u.value="",s.value="",m.value="",g.value>n.value.detalleAccion.mdvs.length-1&&i.dispatch("accion/limpiaDetalleAccion"),o("cambioHito",1)},w=()=>{o("cambioHito",-1)};return{idTactica:v,arrayIdHitosReporte:h,acciones:n,hitosIngresados:r,detalleProductos:p,mdv:f,hitoAnterior:w,guardarHito:W,id_tactica:(0,x.Vh)(e,"stepPasoHito"),porcentajeLogro:u,porcentaje:c,pasoHito:g,model:_,indicadorLogro:s,comentario_cumplimiento:m,opcionesLogro:d,descripcionTactica:(0,x.Vh)(e,"descripcionTactica"),identificador:b,cancelarReporte:()=>{i.dispatch("reporte/limpiaReporteHitos"),i.dispatch("reporte/limpiaReporteFunciones"),l.push("panelReportesUpci")}}}});var ve=o(67208);const _e=(0,N.Z)(he,[["render",ge]]),We=_e;oe()(he,"components",{QCard:B.Z,QCardSection:O.Z,QItemLabel:Y.Z,QSeparator:K.Z,QExpansionItem:G.Z,QInput:X.Z,QSelect:ve.Z,QSpace:$.Z,QBtn:ee.Z});const we={align:"center"},He=(0,t._)("p",{align:"left"},[(0,t._)("b",{style:{"padding-left":"20px"}}," 2.- Evaluación Final ")],-1),Ae={align:"center"},Fe=(0,t._)("b",null,"Estado de Ejecución",-1),Re={style:{height:"1px"}},ye=(0,t._)("b",null,"Presenta justificación por contingencia",-1),qe={class:"q-gutter-sm",style:{"max-width":"300px"}},Pe=(0,t._)("b",null,"Fecha Entrega reporte",-1),Ve=(0,t._)("br",null,null,-1),Ce={class:"row justify-end q-gutter-sm q-ma-md"},xe=(0,t._)("br",null,null,-1);function Ze(e,a,o,l,c,n){const r=(0,t.up)("q-item-label"),s=(0,t.up)("q-separator"),d=(0,t.up)("q-select"),u=(0,t.up)("q-card-section"),p=(0,t.up)("q-item-section"),m=(0,t.up)("q-input"),b=(0,t.up)("q-space"),f=(0,t.up)("q-btn"),g=(0,t.up)("q-card");return(0,t.wg)(),(0,t.iD)("div",we,[(0,t.Wm)(g,{style:{width:"65%"},flat:""},{default:(0,t.w5)((()=>[He,(0,t._)("div",Ae,[(0,t.Wm)(u,{horizontal:"",style:{height:"55px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{class:"col-3 bg-blue-2",flat:"",bordered:""},{default:(0,t.w5)((()=>[Fe])),_:1}),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(r,{class:"col-2",flat:"",bordered:"",style:{height:"25px"}},{default:(0,t.w5)((()=>[(0,t._)("div",Re,[(0,t.Wm)(d,{modelValue:e.indicadorEstadoEjecucion,"onUpdate:modelValue":a[0]||(a[0]=a=>e.indicadorEstadoEjecucion=a),options:e.opcionesJustificacion,style:{width:"450%"}},null,8,["modelValue","options"])])])),_:1})])),_:1}),(0,t.Wm)(s,{horizontal:""}),(0,t.Wm)(u,{horizontal:"",style:{height:"75px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{class:"col-3 bg-blue-2",flat:"",bordered:"",style:{"padding-top":"4px"}},{default:(0,t.w5)((()=>[ye])),_:1}),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(p,{class:"col-1",style:{"padding-top":"19px","padding-left":"2px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{modelValue:e.justificacion,"onUpdate:modelValue":a[1]||(a[1]=a=>e.justificacion=a),options:e.opcionesEjecucion,style:{width:"100%"}},null,8,["modelValue","options"])])),_:1}),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(p,{class:"col-4",style:{height:"75px","padding-top":"19px","padding-left":"2px"}},{default:(0,t.w5)((()=>[(0,t._)("div",qe,[(0,t.Wm)(m,{modelValue:e.reporteJustificacion,"onUpdate:modelValue":a[2]||(a[2]=a=>e.reporteJustificacion=a),autogrow:"",type:"textarea"},null,8,["modelValue"])])])),_:1}),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(r,{class:"col-2 bg-blue-2",flat:"",bordered:""},{default:(0,t.w5)((()=>[Pe])),_:1}),(0,t.Wm)(s,{vertical:""}),(0,t.Wm)(r,{class:"col-2",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(e.fechaFormateada),1)])),_:1})])),_:1})]),(0,t.Wm)(b),Ve,(0,t.Wm)(s,{inset:""}),(0,t._)("div",Ce,[(0,t.Wm)(f,{class:"q-ml-sm",color:"btnCancelar",label:"   Cancelar   ",onClick:e.cancelarReporte},null,8,["onClick"]),(0,t.Wm)(f,{color:"btnVolver",onClick:e.siguienteAccion,label:"   Siguiente    ",class:"q-ml-sm"},null,8,["onClick"])]),(0,t.Wm)(b),xe])),_:1})])}const ke=(0,t.aZ)({props:{idAccion:Number,opcionesJustificacion:Array,stepPasoAccion:Number,fechaFormateada:String},methods:{},emits:["cambioAccion"],setup(e,a){let{emit:o}=a;const i=(0,Z.oR)(),l=(0,k.tv)(),c=(0,t.Fl)((()=>i.state.accion)),n=(0,t.Fl)((()=>i.state.accion.aReportar.acciones)),r=["Si","No"],s=(0,x.iH)(""),d=(0,x.iH)(""),u=(0,x.iH)(""),p=(0,x.iH)(e.idAccion),m=(0,x.iH)(e.stepPasoAccion),b=()=>{const e=(0,t.Fl)((()=>i.state.reporte)),a=(0,x.iH)(""),l=(0,x.iH)("");e.value.reporteFunciones?a.value=e.value.reporteFunciones:a.value=[],e.value.reporteHitos?l.value=e.value.reporteHitos:l.value=[];const c={accion:p.value,estado_ejecucion:s.value,justificacion_contingencia:u.value,reporte_justificacion_contingencia:d.value,reporte_funciones:a.value,reporte_hitos:l.value};i.dispatch("reporte/setReporteAcciones",c),m.value+=1,m.value>n.value.length-1?o("cambioAccion",null):(i.dispatch("accion/reqFuncionesPorAccion",n.value[m.value].id),i.dispatch("accion/reqMdvFuncionesEHitosPorAccion",n.value[m.value].id),i.dispatch("producto/reqHitosReporte",n.value[m.value].id),o("cambioAccion",1))};return{siguienteAccion:b,accionesAReportar:n,idAccion:p,accion:c,opcionesJustificacion:(0,x.Vh)(e,"opcionesJustificacion"),opcionesEjecucion:r,justificacion:u,indicadorEstadoEjecucion:s,reporteJustificacion:d,fechaFormateada:(0,x.Vh)(e,"fechaFormateada"),cancelarReporte:()=>{i.dispatch("reporte/limpiaReporteFunciones"),i.dispatch("reporte/limpiaReporteHitos"),i.dispatch("reporte/reqReportesBorradores"),i.dispatch("reporte/reqReportesUpci"),l.push("panelReportesUpci")},guardar:()=>{const a=(0,t.Fl)((()=>i.state.reporte)),o=(0,t.Fl)((()=>i.state.reporte));p.value,s.value,u.value,d.value,a.value.reporteFunciones,o.value.reporteHitos;m.value+=1,e.stepPasoAccion,n.value.length}}}});var ze=o(52035);const je=(0,N.Z)(ke,[["render",Ze]]),Qe=je;oe()(ke,"components",{QCard:B.Z,QCardSection:O.Z,QItemLabel:Y.Z,QSeparator:K.Z,QSelect:ve.Z,QItemSection:ze.Z,QInput:X.Z,QSpace:$.Z,QBtn:ee.Z});const Se=(0,t.aZ)({components:{ReporteFunciones:ie,ReporteHitos:We,ReporteAcciones:Qe},props:{usuario:Object,entrega:Object,tipoEntrega:String},methods:{validaReporteHito(){return!(this.acciones.funciones.length||!this.acciones.detalleAccion||!this.acciones.detalleAccion.mdvs.length)},validaReporteAccion(){return!(this.acciones.funciones.length||this.acciones.detalleAccion&&this.acciones.detalleAccion.mdvs.length)},validaFinReporte(){return!this.stepPasoAccion}},setup(){const e=(0,Z.oR)(),a=(0,k.tv)(),o=Date.now(),i=new Date(o),l=i.toLocaleDateString(),c=i.getFullYear(),n=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],r=new Date,s=n[r.getMonth()],d=(0,t.Fl)((()=>e.state.accion.aReportar.acciones)),u=(0,t.Fl)((()=>e.state.accion)),p=(0,t.Fl)((()=>e.state.producto.totalHitos)),m=((0,x.iH)(""),(0,t.Fl)((()=>e.state.usuarix.usuario))),b=["Implementado","No implementado","En proceso","Pendiente","No aplicable","No cumplido"],f=(0,x.iH)(""),g=(0,x.iH)(0),h=(0,x.iH)(0),v=(0,x.iH)(0),_=(0,x.iH)(!1),W=(0,x.iH)({pasoAccion:0}),w=e=>{g.value+=e},H=e=>{h.value+=e},A=a=>{e.dispatch("reporte/limpiaReporteFunciones"),e.dispatch("reporte/limpiaReporteHitos"),a?(v.value+=a,g.value=0,h.value=0):_.value=!0},F=()=>{const o=(0,t.Fl)((()=>e.state.reporte)),i={usuario:m.value.id,actor:d.value[v.value].actor.id,estado:"Borrador",recomendacion:f.value,reporte_acciones:o.value.reporteAcciones};e.dispatch("reporte/postReporte",i),e.dispatch("reporte/limpiaReporteFunciones"),e.dispatch("reporte/limpiaReporteHitos"),e.dispatch("reporte/limpiaReporteAccion"),a.push("panelReportesUpci")},R={accion:"",estado_ejecucion:"",justificacion_contingencia:"",reporte_justificacion_contingencia:"",reporte_funciones:[],reporte_hitos:[]},y=(0,x.iH)(),q=(0,x.iH)(),P=(0,x.iH)(),V=(0,x.iH)(!1);return{detalleProductos:p,fechaFormateada:l,stepPasoAccion:v,pasoFuncion:V,finReporteAccion:_,stepPasoFuncion:g,cambioPasoFuncion:w,cambioPasoHito:H,cambioPasoAccion:A,stepPasoHito:h,acciones:u,totalFunciones:y,totalMDV:q,totalHito:P,steps:W,anio:c,mes:s,accionesAReportar:d,usuario:m,estado:"Borrador",recomendacion:f,reporte_accion:R,opcionesJustificacion:b,guardarReporte:F,cancelarReporte:()=>{e.dispatch("reporte/limpiaReporteFunciones"),e.dispatch("reporte/limpiaReporteHitos"),e.dispatch("reporte/limpiaReporteAEditar"),a.push("panelReportesUpci")}}}}),Ie=(0,N.Z)(Se,[["render",C],["__scopeId","data-v-32b6f1fb"]]),Te=Ie;oe()(Se,"components",{QCard:B.Z,QCardSection:O.Z,QItemLabel:Y.Z,QSeparator:K.Z,QSpace:$.Z,QInput:X.Z,QBtn:ee.Z})}}]);