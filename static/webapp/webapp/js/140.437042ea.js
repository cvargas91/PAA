"use strict";(self["webpackChunkspci"]=self["webpackChunkspci"]||[]).push([[140],{91140:(e,a,o)=>{o.r(a),o.d(a,{default:()=>L});var l=o(83673),i=o(62323);const c={key:0,class:"q-pa-md"},t=(0,l._)("div",{class:"text-h6"},[(0,l._)("b",null,"Gracias por Colaborar")],-1),r=(0,l.Uk)(" Estado de la entrega actualizado "),n={key:1},d={key:0,class:"q-pa-md"},s={key:0},u={class:"q-pa-sm"},p=["href"],m={key:0},f={key:0},b={key:0},g={class:"text-subtitle1"},v={key:0,class:"row justify-end q-gutter-sm q-ma-md"},w={key:0},k={class:"q-pa-sm"},q=["href"],y={key:0},h={key:0},_={key:0},W={class:"text-subtitle1"},C=(0,l._)("div",{class:"q-gutter-sm q-ma-md"},null,-1),S={key:0,class:"row justify-end q-gutter-sm q-ma-md"};function P(e,a,o,P,A,U){const D=(0,l.up)("q-avatar"),E=(0,l.up)("q-card-section"),j=(0,l.up)("q-btn"),Z=(0,l.up)("q-separator"),Q=(0,l.up)("q-card"),V=(0,l.up)("q-tab"),z=(0,l.up)("q-tabs"),I=(0,l.up)("q-td"),T=(0,l.up)("q-tooltip"),x=(0,l.up)("q-table"),B=(0,l.up)("BotonSecundarioEntregas"),F=(0,l.up)("BotonPrincipalEntregas"),H=(0,l.up)("q-tab-panel"),K=(0,l.up)("q-tab-panels"),N=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(N,null,{default:(0,l.w5)((()=>[e.entrega.estadoWorkflow?((0,l.wg)(),(0,l.iD)("div",c,[(0,l.Wm)(Q,{class:"my-card bg-teal-2"},{default:(0,l.w5)((()=>[(0,l.Wm)(E,{horizontal:""},{default:(0,l.w5)((()=>[(0,l.Wm)(E,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D,{color:"white","text-color":"cyan-8",icon:"done"})])),_:1}),(0,l.Wm)(E,{class:"text-textoAzul"},{default:(0,l.w5)((()=>[t,r])),_:1})])),_:1}),(0,l.Wm)(E,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(j,{color:"light-blue-10",label:"Volver a la bandeja de entregas",onClick:e.limpiaBandeja},null,8,["onClick"])])),_:1}),(0,l.Wm)(E,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{class:"bg-textoAzul",inset:""})])),_:1})])),_:1})])):((0,l.wg)(),(0,l.iD)("div",n,[e.usuario.perfil?((0,l.wg)(),(0,l.iD)("div",d,[(0,l.Wm)(Q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(z,{"model-value":e.tab,"onUpdate:modelValue":e.cambiaTab,dense:"",class:"tablaAcciones","active-color":"primary","indicator-color":"primary",align:"justify"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{name:"verificadores",label:"Verificadores"}),(0,l.Wm)(V,{name:"productos",label:"Productos"})])),_:1},8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(Z),(0,l.Wm)(K,{modelValue:e.tab,"onUpdate:modelValue":a[4]||(a[4]=a=>e.tab=a),animated:""},{default:(0,l.w5)((()=>[e.verificador.verificadoresUPCI?((0,l.wg)(),(0,l.j4)(H,{key:0,name:"verificadores",class:"tablaAcciones q-pa-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(x,{rows:e.verificador.verificadoresUPCI,columns:e.columnasVerificadores,"row-key":"id",selection:"single",selected:e.verificadorSeleccionado,"onUpdate:selected":a[0]||(a[0]=a=>e.verificadorSeleccionado=a),"no-data-label":"No hay verificadores aún",class:"tablaAcciones"},{"body-cell-adjuntos":(0,l.w5)((e=>[(0,l.Wm)(I,{props:e},{default:(0,l.w5)((()=>[e.value?((0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("ul",u,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.value.slice(0,5),(e=>((0,l.wg)(),(0,l.iD)("li",{key:e.id},[(0,l._)("a",{target:"_blank",href:e.url},(0,i.zw)(e.name),9,p)])))),128)),e.value.length>5?((0,l.wg)(),(0,l.iD)("div",m,"...")):(0,l.kq)("",!0)])])):(0,l.kq)("",!0)])),_:2},1032,["props"])])),"body-cell-accion":(0,l.w5)((e=>[(0,l.Wm)(I,{props:e},{default:(0,l.w5)((()=>[e.value?((0,l.wg)(),(0,l.iD)("div",f,[(0,l.Uk)((0,i.zw)(e.value.id_uaysen)+" ",1),(0,l.Wm)(T,{class:"text-body1"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.value.titulo),1)])),_:2},1024)])):(0,l.kq)("",!0)])),_:2},1032,["props"])])),top:(0,l.w5)((a=>[e.verificadorSeleccionado.length?((0,l.wg)(),(0,l.iD)("div",b,[(0,l._)("div",g,(0,i.zw)(e.verificadorSeleccionado[0].descripcion),1)])):(0,l.kq)("",!0)])),_:1},8,["rows","columns","selected"]),e.verificadorSeleccionado.length?((0,l.wg)(),(0,l.iD)("div",v,[(0,l.Wm)(j,{color:"btnCancelar",label:"Cancelar",onClick:a[1]||(a[1]=a=>e.verificadorSeleccionado=[])}),(0,l.Wm)(B,{usuario:e.usuario,entrega:e.verificadorSeleccionado[0],tipoEntrega:"verificador"},null,8,["usuario","entrega"]),(0,l.Wm)(F,{usuario:e.usuario,entrega:e.verificadorSeleccionado[0],tipoEntrega:"verificador"},null,8,["usuario","entrega"])])):(0,l.kq)("",!0)])),_:1})):(0,l.kq)("",!0),e.producto.productosUPCI?((0,l.wg)(),(0,l.j4)(H,{key:1,name:"productos",class:"tablaAcciones q-pa-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(x,{rows:e.producto.productosUPCI,columns:e.columnasProductos,"row-key":"id",selection:"single",selected:e.productoSeleccionado,"onUpdate:selected":a[2]||(a[2]=a=>e.productoSeleccionado=a),"no-data-label":"No hay productos aún",class:"tablaAcciones"},{"body-cell-adjuntos":(0,l.w5)((e=>[(0,l.Wm)(I,{props:e},{default:(0,l.w5)((()=>[e.value?((0,l.wg)(),(0,l.iD)("div",w,[(0,l._)("ul",k,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.value.slice(0,5),(e=>((0,l.wg)(),(0,l.iD)("li",{key:e.id},[(0,l._)("a",{target:"_blank",href:e.url},(0,i.zw)(e.name),9,q)])))),128)),e.value.length>5?((0,l.wg)(),(0,l.iD)("div",y,"...")):(0,l.kq)("",!0)])])):(0,l.kq)("",!0)])),_:2},1032,["props"])])),"body-cell-accion":(0,l.w5)((e=>[(0,l.Wm)(I,{props:e},{default:(0,l.w5)((()=>[e.value?((0,l.wg)(),(0,l.iD)("div",h,[(0,l.Uk)((0,i.zw)(e.value.id_uaysen)+" ",1),(0,l.Wm)(T,{class:"text-body1"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.value.titulo),1)])),_:2},1024)])):(0,l.kq)("",!0)])),_:2},1032,["props"])])),top:(0,l.w5)((a=>[e.productoSeleccionado.length?((0,l.wg)(),(0,l.iD)("div",_,[(0,l._)("div",W,(0,i.zw)(e.productoSeleccionado[0].descripcion),1),C])):(0,l.kq)("",!0)])),_:1},8,["rows","columns","selected"]),e.productoSeleccionado.length?((0,l.wg)(),(0,l.iD)("div",S,[(0,l.Wm)(j,{color:"btnCancelar",label:"Cancelar",onClick:a[3]||(a[3]=a=>e.productoSeleccionado=[])}),(0,l.Wm)(B,{usuario:e.usuario,entrega:e.productoSeleccionado[0],tipoEntrega:"producto"},null,8,["usuario","entrega"]),(0,l.Wm)(F,{usuario:e.usuario,entrega:e.productoSeleccionado[0],tipoEntrega:"producto"},null,8,["usuario","entrega"])])):(0,l.kq)("",!0)])),_:1})):(0,l.kq)("",!0)])),_:1},8,["modelValue"])])),_:1})])):(0,l.kq)("",!0)]))])),_:1})}var A=o(61959),U=o(93617),D=o(64809),E=o(61399);const j=(0,l.aZ)({components:{BotonPrincipalEntregas:D.Z,BotonSecundarioEntregas:E.Z},setup(){const e=(0,U.oR)(),a=(0,l.Fl)((()=>e.state.usuarix.usuario)),o=(0,l.Fl)((()=>e.state.producto)),i=(0,l.Fl)((()=>e.state.verificador)),c=(0,l.Fl)((()=>e.state.entrega)),t=(0,A.iH)([]),r=(0,A.iH)([]),n=(0,A.iH)("verificadores"),d=(a,o)=>{e.dispatch("accion/limpiaAcciones"),"productos"==a?e.dispatch("producto/reqProductosEnviadosAUPCI"):"verificadores"==a&&e.dispatch("verificador/reqVerificadoresEnviadosAUPCI"),n.value=a};return(0,l.bv)((()=>{e.dispatch("entrega/limpiaEntregas"),e.dispatch("producto/reqProductosEnviadosAUPCI"),e.dispatch("verificador/reqVerificadoresEnviadosAUPCI")})),(0,l.Ah)((()=>{})),{usuario:a,entrega:c,productoSeleccionado:t,verificadorSeleccionado:r,columnasProductos:[{name:"descripcion",label:"Descripción",field:"descripcion",align:"left",style:"white-space: normal"},{name:"colaborador",label:"Colaborador",field:e=>e.usuario.first_name+" "+e.usuario.last_name,align:"left"},{name:"mdv",label:"Medio de Verificación",field:e=>e.mdv.nombre,align:"left",style:"white-space: normal"},{name:"accion",label:"Acción",field:e=>e.mdv.accion,align:"left"},{name:"accionTipo",label:"Tipo acción",field:e=>e.mdv.accion.tipo,align:"left",sortable:!0},{name:"adjuntos",label:"Adjuntos",field:"adjuntos",align:"left"},{name:"estado",label:"Estado",field:"estado",align:"left",sortable:!0},{name:"fecha",label:"Fecha",field:"fecha_creacion",align:"left",sortable:!0}],columnasVerificadores:[{name:"descripcion",label:"Descripción",field:"descripcion",align:"left",style:"white-space: normal"},{name:"colaborador",label:"Colaborador",field:e=>e.usuario.first_name+" "+e.usuario.last_name,align:"left"},{name:"indicador",label:"Indicador",field:e=>e.indicador.nombre,align:"left",style:"white-space: normal"},{name:"funcion",label:"Función",field:e=>e.indicador.funcion.nombre,align:"left",style:"white-space: normal"},{name:"accion",label:"Acción",field:e=>e.indicador.funcion.accion,align:"left",style:"white-space: normal"},{name:"adjuntos",label:"Adjuntos",field:"adjuntos",align:"left"},{name:"estado",label:"Estado",field:"estado",align:"left",sortable:!0},{name:"fecha",label:"Fecha",field:"fecha_creacion",align:"left",sortable:!0}],producto:o,verificador:i,tab:n,cambiaTab:d,limpiaBandeja:()=>{t.value=[],r.value=[],e.dispatch("entrega/limpiaEntregas"),e.dispatch("producto/reqProductosEnviadosAUPCI"),e.dispatch("verificador/reqVerificadoresEnviadosAUPCI")}}}});var Z=o(74260),Q=o(24379),V=o(10151),z=o(25589),I=o(75096),T=o(48240),x=o(65869),B=o(57547),F=o(3269),H=o(5906),K=o(86602),N=o(82138),Y=o(83884),G=o(5363),M=o(7518),R=o.n(M);const J=(0,Z.Z)(j,[["render",P]]),L=J;R()(j,"components",{QPage:Q.Z,QCard:V.Z,QCardSection:z.Z,QAvatar:I.Z,QBtn:T.Z,QSeparator:x.Z,QTabs:B.Z,QTab:F.Z,QTabPanels:H.Z,QTabPanel:K.Z,QTable:N.Z,QTd:Y.Z,QTooltip:G.Z})}}]);