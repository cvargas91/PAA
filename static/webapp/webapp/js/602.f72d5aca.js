"use strict";(self["webpackChunkspci"]=self["webpackChunkspci"]||[]).push([[602],{6602:(e,a,o)=>{o.r(a),o.d(a,{default:()=>ea});var l=o(83673),i=o(62323);const t={class:"q-pa-md"},n={key:0},r={key:1},c={class:"q-pa-md col-xs-12 col-sm-6 col-md-4 col-lg-3"};function s(e,a,o,s,d,u){const m=(0,l.up)("ProtoAccionNueva"),p=(0,l.up)("ProtoAccionEditar"),g=(0,l.up)("q-icon"),_=(0,l.up)("q-input"),b=(0,l.up)("q-item-label"),f=(0,l.up)("q-item-section"),w=(0,l.up)("q-item"),v=(0,l.up)("q-list"),k=(0,l.up)("q-btn"),W=(0,l.up)("q-card-section"),q=(0,l.up)("q-separator"),y=(0,l.up)("q-card"),C=(0,l.up)("q-table"),h=(0,l.up)("q-page-sticky"),A=(0,l.up)("q-page"),V=(0,l.Q2)("touch-pan");return(0,l.wg)(),(0,l.j4)(A,null,{default:(0,l.w5)((()=>[(0,l._)("div",t,[(0,l.Wm)(m,{mostrar:e.mostrarPopupAniadir,"onUpdate:mostrar":a[0]||(a[0]=a=>e.mostrarPopupAniadir=a)},null,8,["mostrar"]),e.poador.editaAccion?((0,l.wg)(),(0,l.iD)("div",n,[(0,l.Wm)(p,{accion:e.poador.editaAccion},null,8,["accion"])])):e.poador.misNuevasAcciones?((0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(C,{flat:"",grid:"","hide-header":"",title:"Propuestas de Acción para el próximo Plan Operativo Anual (POA)",filter:e.filtro,class:"tablaAcciones","row-key":"id",rows:e.poador.misNuevasAcciones,columns:e.columnas,"no-data-label":"Aún sin propuestas de acción",pagination:e.paginacionInicial},{"top-right":(0,l.w5)((()=>[(0,l.Wm)(_,{borderless:"",dense:"",debounce:"300",modelValue:e.filtro,"onUpdate:modelValue":a[1]||(a[1]=a=>e.filtro=a),placeholder:"Buscar"},{append:(0,l.w5)((()=>[(0,l.Wm)(g,{name:"search"})])),_:1},8,["modelValue"])])),item:(0,l.w5)((a=>[(0,l._)("div",c,[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v,{dense:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.cols.filter((e=>"desc"!==e.name)),(e=>((0,l.wg)(),(0,l.j4)(w,{key:e.name},{default:(0,l.w5)((()=>[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.label),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.value),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024),(0,l.Wm)(W,{align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{class:"q-mr-sm",color:"primary",icon:"edit",label:"",onClick:o=>e.clickEditaAccion(a.key)},null,8,["onClick"])])),_:2},1024),(0,l.Wm)(q)])),_:2},1024)])])),_:1},8,["filter","rows","columns","pagination"]),(0,l.Wm)(h,{position:"bottom-right",offset:e.posBoton},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(k,{round:"",size:"lg",color:"primary",icon:"add",onClick:e.clickNuevaAccion,disable:e.dragging},null,8,["onClick","disable"]),[[V,e.muevelo,void 0,{prevent:!0,mouse:!0}]])])),_:1},8,["offset"])])):(0,l.kq)("",!0)])])),_:1})}var d=o(61959),u=o(93617);const m=(0,l._)("div",{class:"text-h6"},"Nueva propuesta de Acción",-1),p=(0,l.Uk)(" Ingrese un título, objetivo y tipo para la nueva Acción"),g=(0,l._)("br",null,null,-1),_=(0,l.Uk)("(Podrá hacer modificaciones más tarde) "),b={class:"q-gutter-md"},f=(0,l.Uk)(" El identificador de acción se generará al momento de su creación ");function w(e,a,o,i,t,n){const r=(0,l.up)("q-card-section"),c=(0,l.up)("q-input"),s=(0,l.up)("q-select"),d=(0,l.up)("q-btn"),u=(0,l.up)("q-card-actions"),w=(0,l.up)("q-card"),v=(0,l.up)("q-dialog"),k=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(v,{modelValue:i.mostrar,"onUpdate:modelValue":a[4]||(a[4]=e=>i.mostrar=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{style:{width:"700px","max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[m])),_:1}),(0,l.Wm)(r,{class:"q-pt-none"},{default:(0,l.w5)((()=>[p,g,_])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",b,[(0,l.Wm)(c,{standout:"","bottom-slots":"",modelValue:i.id_uaysen,"onUpdate:modelValue":a[0]||(a[0]=e=>i.id_uaysen=e),label:"Código Interno",readonly:""},{hint:(0,l.w5)((()=>[f])),_:1},8,["modelValue"]),(0,l.Wm)(c,{modelValue:i.titulo,"onUpdate:modelValue":a[1]||(a[1]=e=>i.titulo=e),label:"Título"},null,8,["modelValue"]),(0,l.Wm)(c,{modelValue:i.objetivo,"onUpdate:modelValue":a[2]||(a[2]=e=>i.objetivo=e),label:"Objetivo",type:"textarea"},null,8,["modelValue"]),(0,l.Wm)(s,{modelValue:i.tipo,"onUpdate:modelValue":a[3]||(a[3]=e=>i.tipo=e),options:i.tiposAccion,label:"Tipo"},null,8,["modelValue","options"])])])),_:1}),(0,l.Wm)(u,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(d,{flat:"",label:"Cancelar",color:"btnCancelar"},null,512),[[k]]),(0,l.Wm)(d,{flat:"",label:"Añadir",disable:!i.titulo||!i.objetivo||!i.tipo,color:"primary",onClick:i.clicAniadir},null,8,["disable","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}const v={props:{mostrar:Boolean},setup(e,a){let{emit:o}=a;const i=(0,l.Fl)((()=>m.state.usuarix.usuario.id)),t=(0,l.Fl)((()=>m.state.usuarix.usuario.perfil.area_sigla)),n=(0,l.Fl)((()=>m.state.usuarix.usuario.perfil.actor_id)),r=(0,d.iH)(""),c=(0,d.iH)(""),s=(0,d.iH)(""),m=(0,u.oR)(),p=(0,l.Fl)({get:()=>e.mostrar,set:e=>o("update:mostrar",e)});return{mostrar:p,id_uaysen:(0,d.iH)(t.value+"-..."),titulo:r,objetivo:c,tipo:s,tiposAccion:["Misional","Desarrollo"],clicAniadir:()=>{m.dispatch("poador/reqNuevaAccion",{creador:i.value,unidad:n.value,titulo:r.value,objetivo:c.value,tipo:s.value}),p.value=!1},idUnidad:n}}};var k=o(74260),W=o(46778),q=o(10151),y=o(25589),C=o(34842),h=o(67208),A=o(99367),V=o(48240),Z=o(60677),Q=o(7518),U=o.n(Q);const H=(0,k.Z)(v,[["render",w]]),j=H;U()(v,"components",{QDialog:W.Z,QCard:q.Z,QCardSection:y.Z,QInput:C.Z,QSelect:h.Z,QCardActions:A.Z,QBtn:V.Z}),U()(v,"directives",{ClosePopup:Z.Z});const x={class:"q-pa-md q-gutter-md"},z={class:"text-overline"},P={class:"text-h6"},E={class:"text-subtitle1"},F={class:"text-subtitle2"},D={class:"text-h6"},I={class:"text-subtitle1"},N={class:"text-subtitle2"},B=(0,l.Uk)("Estrategias"),M={class:"text-weight-bold"},R={class:"q-gutter-xs"},S=(0,l.Uk)("No se han relacionado Estrategias"),O={class:"q-gutter-xs"},T=(0,l.Uk)("Hitos"),K={class:"q-gutter-xs"},L=(0,l.Uk)("No se han registrado Hitos"),Y={class:"q-gutter-xs"},G=(0,l.Uk)("Funciones e indicadores"),J={class:"q-gutter-xs"},X=(0,l.Uk)("No se han registrado Funciones"),$={class:"q-gutter-xs"},ee=(0,l.Uk)("Medios de Verificación (MDV)"),ae={class:"q-gutter-xs"},oe=(0,l.Uk)("No se han registrado Medios De Verificación"),le={class:"q-gutter-xs"},ie=(0,l.Uk)("Roles de actores involucrados"),te=(0,l.Uk)("No se han registrado roles de actores"),ne={class:"q-gutter-xs"},re={class:"q-gutter-xs"};function ce(e,a,o,t,n,r){const c=(0,l.up)("q-btn"),s=(0,l.up)("q-card-actions"),d=(0,l.up)("q-card-section"),u=(0,l.up)("q-card"),m=(0,l.up)("q-input"),p=(0,l.up)("q-item-label"),g=(0,l.up)("ProtoAgregaEstrategia"),_=(0,l.up)("q-item"),b=(0,l.up)("q-item-section"),f=(0,l.up)("q-list"),w=(0,l.up)("ProtoAgregaHito"),v=(0,l.up)("ProtoAgregaFuncion"),k=(0,l.up)("ProtoAgregaMDV"),W=(0,l.up)("ProtoAgregaRol"),q=(0,l.up)("q-page"),y=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.j4)(q,null,{default:(0,l.w5)((()=>[(0,l._)("div",x,[t.modoEdicion?((0,l.wg)(),(0,l.j4)(u,{key:1,class:"my-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l._)("div",D,[(0,l.Uk)((0,i.zw)(t.accion.id_uaysen)+" : ",1),(0,l.Wm)(m,{modelValue:t.editandoAccionTitulo,"onUpdate:modelValue":a[1]||(a[1]=e=>t.editandoAccionTitulo=e),label:"Título"},null,8,["modelValue"])]),(0,l._)("div",I,[(0,l.Wm)(m,{modelValue:t.editandoAccionObjetivo,"onUpdate:modelValue":a[2]||(a[2]=e=>t.editandoAccionObjetivo=e),label:"Objetivo"},null,8,["modelValue"])]),(0,l._)("div",N,[(0,l.Wm)(m,{modelValue:t.editandoAccionProyecto,"onUpdate:modelValue":a[3]||(a[3]=e=>t.editandoAccionProyecto=e),label:"Proyecto"},null,8,["modelValue"])]),(0,l.Wm)(s,{vertical:"",align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"q-mr-sm",color:"primary",icon:"done",label:"",onClick:a[4]||(a[4]=e=>t.submitEdicion())})])),_:1})])),_:1})])),_:1})):((0,l.wg)(),(0,l.j4)(u,{key:0,class:"my-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l._)("div",z," Modificado el "+(0,i.zw)(t.accion.modificacion),1),(0,l._)("div",P,(0,i.zw)(t.accion.id_uaysen)+" : "+(0,i.zw)(t.accion.titulo),1),(0,l._)("div",E,"Objetivo: "+(0,i.zw)(t.accion.objetivo),1),(0,l._)("div",F,"Proyecto: "+(0,i.zw)(t.accion.proyecto),1),(0,l.Wm)(s,{vertical:"",align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"q-mr-sm",color:"primary",icon:"edit",label:"",onClick:a[0]||(a[0]=e=>t.editaInfoBase(t.accion))})])),_:1})])),_:1})])),_:1})),(0,l.Wm)(f,{bordered:"",separator:"",class:"rounded-borders"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{header:""},{default:(0,l.w5)((()=>[B])),_:1}),t.aniadirEstrategia?((0,l.wg)(),(0,l.j4)(_,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{id_accion:t.accion.id,mostrar:t.aniadirEstrategia,"onUpdate:mostrar":a[5]||(a[5]=e=>t.aniadirEstrategia=e)},null,8,["id_accion","mostrar"])])),_:1})):((0,l.wg)(!0),(0,l.iD)(l.HY,{key:1},(0,l.Ko)(t.accion.estrategias,(e=>((0,l.wg)(),(0,l.j4)(_,{key:e.id},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{lines:"1"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.id_uaysen),1)])),_:2},1024),(0,l.Wm)(p,{caption:"",lines:"2"},{default:(0,l.w5)((()=>[(0,l._)("span",M,(0,i.zw)(e.tipo),1),(0,l.Uk)(" -- "+(0,i.zw)(e.descripcion),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(b,{side:"",top:""},{default:(0,l.w5)((()=>[(0,l._)("div",R,[(0,l.Wm)(c,{size:"sm",color:"negative",icon:"delete",label:"",onClick:a=>t.quitarEstrategia(e)},null,8,["onClick"])])])),_:2},1024)])),_:2},1024)))),128)),t.accion.estrategias&&!t.accion.estrategias.length?((0,l.wg)(),(0,l.j4)(_,{key:2},{default:(0,l.w5)((()=>[S])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b),(0,l.Wm)(b,{side:"",top:""},{default:(0,l.w5)((()=>[(0,l._)("div",O,[(0,l.Wm)(c,{color:"primary",size:"sm",icon:"add",label:"",onClick:t.aniadeEstrategia},null,8,["onClick"])])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(f,{bordered:"",separator:"",class:"rounded-borders"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{header:""},{default:(0,l.w5)((()=>[T])),_:1}),t.aniadirHito?((0,l.wg)(),(0,l.j4)(_,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{id_accion:t.accion.id,mostrar:t.aniadirHito,"onUpdate:mostrar":a[6]||(a[6]=e=>t.aniadirHito=e)},null,8,["id_accion","mostrar"])])),_:1})):((0,l.wg)(!0),(0,l.iD)(l.HY,{key:1},(0,l.Ko)(t.accion.proto_hito_set,(e=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(_,{clickable:"",key:e.id},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{lines:"1"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.nombre),1)])),_:2},1024),(0,l.Wm)(p,{caption:"",lines:"2"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.descripcion),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(b,{side:"",top:""},{default:(0,l.w5)((()=>[(0,l._)("div",K,[(0,l.Wm)(c,{size:"sm",color:"primary",icon:"edit",label:"",onClick:a=>t.editaHito(e.id)},null,8,["onClick"]),(0,l.Wm)(c,{size:"sm",color:"negative",icon:"delete",label:""})])])),_:2},1024)])),_:2},1024)),[[y]]))),128)),t.accion.proto_hito_set&&!t.accion.proto_hito_set.length?((0,l.wg)(),(0,l.j4)(_,{key:2},{default:(0,l.w5)((()=>[L])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b),(0,l.Wm)(b,{side:"",top:""},{default:(0,l.w5)((()=>[(0,l._)("div",Y,[(0,l.Wm)(c,{color:"primary",size:"sm",icon:"add",label:"",onClick:t.aniadeHito},null,8,["onClick"])])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(f,{bordered:"",separator:"",class:"rounded-borders"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{header:""},{default:(0,l.w5)((()=>[G])),_:1}),t.aniadirFuncion?((0,l.wg)(),(0,l.j4)(_,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{id_accion:t.accion.id,mostrar:t.aniadirFuncion,"onUpdate:mostrar":a[7]||(a[7]=e=>t.aniadirFuncion=e)},null,8,["id_accion","mostrar"])])),_:1})):((0,l.wg)(!0),(0,l.iD)(l.HY,{key:1},(0,l.Ko)(t.accion.proto_funcion_set,(e=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(_,{clickable:"",key:e.id},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{lines:"1"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.nombre),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(b,{side:"",top:""},{default:(0,l.w5)((()=>[(0,l._)("div",J,[(0,l.Wm)(c,{size:"sm",color:"primary",icon:"edit",label:"",onClick:a=>t.editaFuncion(e.id)},null,8,["onClick"]),(0,l.Wm)(c,{size:"sm",color:"negative",icon:"delete",label:""})])])),_:2},1024)])),_:2},1024)),[[y]]))),128)),t.accion.proto_funcion_set&&!t.accion.proto_funcion_set.length?((0,l.wg)(),(0,l.j4)(_,{key:2},{default:(0,l.w5)((()=>[X])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b),(0,l.Wm)(b,{side:"",top:""},{default:(0,l.w5)((()=>[(0,l._)("div",$,[(0,l.Wm)(c,{color:"primary",size:"sm",icon:"add",label:"",onClick:t.aniadeFuncion},null,8,["onClick"])])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(f,{bordered:"",separator:"",class:"rounded-borders"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{header:""},{default:(0,l.w5)((()=>[ee])),_:1}),t.aniadirMDV?((0,l.wg)(),(0,l.j4)(_,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{id_accion:t.accion.id,mostrar:t.aniadirMDV,"onUpdate:mostrar":a[8]||(a[8]=e=>t.aniadirMDV=e)},null,8,["id_accion","mostrar"])])),_:1})):((0,l.wg)(!0),(0,l.iD)(l.HY,{key:1},(0,l.Ko)(t.accion.proto_mdv_set,(e=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(_,{clickable:"",key:e.id},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{lines:"1"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.nombre),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(b,{side:"",top:""},{default:(0,l.w5)((()=>[(0,l._)("div",ae,[(0,l.Wm)(c,{size:"sm",color:"primary",icon:"edit",label:"",onClick:a=>t.editaMDV(e.id)},null,8,["onClick"]),(0,l.Wm)(c,{size:"sm",color:"negative",icon:"delete",label:""})])])),_:2},1024)])),_:2},1024)),[[y]]))),128)),t.accion.proto_mdv_set&&!t.accion.proto_mdv_set.length?((0,l.wg)(),(0,l.j4)(_,{key:2},{default:(0,l.w5)((()=>[oe])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b),(0,l.Wm)(b,{side:"",top:""},{default:(0,l.w5)((()=>[(0,l._)("div",le,[(0,l.Wm)(c,{color:"primary",size:"sm",icon:"add",label:"",onClick:t.aniadeMDV},null,8,["onClick"])])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(f,{bordered:"",separator:"",class:"rounded-borders"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{header:""},{default:(0,l.w5)((()=>[ie])),_:1}),t.aniadirRol?((0,l.wg)(),(0,l.j4)(_,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{id_accion:t.accion.id,mostrar:t.aniadirRol,"onUpdate:mostrar":a[9]||(a[9]=e=>t.aniadirRol=e)},null,8,["id_accion","mostrar"])])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[te])),_:1}),(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b),(0,l.Wm)(b,{side:"",top:""},{default:(0,l.w5)((()=>[(0,l._)("div",ne,[(0,l.Wm)(c,{color:"primary",size:"sm",icon:"add",label:"",onClick:t.aniadeRol},null,8,["onClick"])])])),_:1})])),_:1})])),_:1}),(0,l._)("div",re,[(0,l.Wm)(c,{color:"negative",icon:"delete",class:"q-mr-sm",label:"Eliminar la propuesta de acción",onClick:t.eliminarAccion},null,8,["onClick"]),(0,l.Wm)(c,{color:"btnCancelar",label:"Volver",onClick:t.clicCancelar},null,8,["onClick"])])])])),_:1})}const se={class:"q-gutter-md",style:{"min-width":"300px"}},de={class:"q-gutter-xs"};function ue(e,a,o,t,n,r){const c=(0,l.up)("q-item-label"),s=(0,l.up)("q-badge"),d=(0,l.up)("q-item-section"),u=(0,l.up)("q-item"),m=(0,l.up)("q-select"),p=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)("div",se,[(0,l.Wm)(m,{filled:"",modelValue:t.estrategia,"onUpdate:modelValue":a[0]||(a[0]=e=>t.estrategia=e),options:t.estrategias,"stack-label":"",label:"Seleccione una estrategia",color:"primary"},{"selected-item":(0,l.w5)((e=>[(0,l.Wm)(u,(0,i.vs)((0,l.F4)(e.itemProps)),{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.opt.id_uaysen),1)])),_:2},1024),(0,l.Wm)(c,{caption:""},{default:(0,l.w5)((()=>[e.opt.ambito?((0,l.wg)(),(0,l.j4)(s,{key:0,color:"black"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.opt.ambito),1)])),_:2},1024)):(0,l.kq)("",!0),(0,l.Uk)(" "+(0,i.zw)(e.opt.descripcion),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),option:(0,l.w5)((e=>[(0,l.Wm)(u,(0,i.vs)((0,l.F4)(e.itemProps)),{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.opt.id_uaysen),1)])),_:2},1024),(0,l.Wm)(c,{caption:""},{default:(0,l.w5)((()=>[e.opt.ambito?((0,l.wg)(),(0,l.j4)(s,{key:0,color:"black"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.opt.ambito),1)])),_:2},1024)):(0,l.kq)("",!0),(0,l.Uk)(" "+(0,i.zw)(e.opt.descripcion),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options"]),(0,l._)("div",de,[(0,l.Wm)(p,{label:"Añadir",type:"button",color:"primary",class:"q-mr-sm",onClick:t.aniadirEstrategia,disable:!t.estrategia},null,8,["onClick","disable"]),(0,l.Wm)(p,{color:"btnCancelar",label:"Cancelar",onClick:t.clicCancelar},null,8,["onClick"])])])}const me={props:{mostrar:Boolean,id_accion:Number},setup(e,a){let{emit:o}=a;const i=(0,l.Fl)((()=>n.state.estrategia.estrategias)),t=(0,d.iH)(null),n=(0,u.oR)(),r=(0,l.Fl)({get:()=>e.mostrar,set:e=>o("update:mostrar",e)});return(0,l.bv)((()=>{i.value.length||n.dispatch("estrategia/reqEstrategias")})),(0,l.Ah)((()=>{t.value=null})),{estrategia:t,estrategias:i,aniadirEstrategia:()=>{r.value=!1,n.dispatch("poador/agregaEstrategia",{id_accion:e.id_accion,id_estrategia:t.value.id})},clicCancelar:()=>{r.value=!1}}}};var pe=o(83414),ge=o(52035),_e=o(2350),be=o(69721);const fe=(0,k.Z)(me,[["render",ue]]),we=fe;U()(me,"components",{QSelect:h.Z,QItem:pe.Z,QItemSection:ge.Z,QItemLabel:_e.Z,QBadge:be.Z,QBtn:V.Z});const ve={class:"q-gutter-xs"};function ke(e,a,o,i,t,n){const r=(0,l.up)("q-input"),c=(0,l.up)("q-btn"),s=(0,l.up)("q-form");return(0,l.wg)(),(0,l.j4)(s,{class:"q-gutter-sm",style:{"min-width":"500px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{filled:"",modelValue:i.hito_nombre,"onUpdate:modelValue":a[0]||(a[0]=e=>i.hito_nombre=e),label:"Nombre del hito",hint:"Ej: Aprobación de la conformación de...","lazy-rules":"",rules:[e=>e&&e.length>0||"Ingrese un nombre, por favor"]},null,8,["modelValue","rules"]),(0,l.Wm)(r,{filled:"",modelValue:i.hito_descripcion,"onUpdate:modelValue":a[1]||(a[1]=e=>i.hito_descripcion=e),label:"Descripción del hito",hint:"Ej: Planificación, implementación, seguimiento y evaluación de...","lazy-rules":"",rules:[e=>e&&e.length>0||"Ingrese una descripción, por favor"],type:"textarea"},null,8,["modelValue","rules"]),(0,l._)("div",ve,[(0,l.Wm)(c,{label:"En desarrollo",type:"button",color:"primary",class:"q-mr-sm",onClick:i.aniadirHito,disable:""},null,8,["onClick"]),(0,l.Wm)(c,{color:"btnCancelar",label:"Cancelar",onClick:i.clicCancelar},null,8,["onClick"])])])),_:1})}const We={props:{mostrar:Boolean,id_accion:Number},setup(e,a){let{emit:o}=a;const i=(0,d.iH)(""),t=(0,d.iH)(""),n=((0,u.oR)(),(0,l.Fl)({get:()=>e.mostrar,set:e=>o("update:mostrar",e)}));return(0,l.bv)((()=>{})),(0,l.Ah)((()=>{})),{hito_nombre:i,hito_descripcion:t,aniadirHito:()=>{n.value=!1},clicCancelar:()=>{n.value=!1}}}};var qe=o(68689);const ye=(0,k.Z)(We,[["render",ke]]),Ce=ye;U()(We,"components",{QForm:qe.Z,QInput:C.Z,QBtn:V.Z});const he={class:"q-gutter-xs"};function Ae(e,a,o,i,t,n){const r=(0,l.up)("q-input"),c=(0,l.up)("q-btn"),s=(0,l.up)("q-form");return(0,l.wg)(),(0,l.j4)(s,{class:"q-gutter-sm",style:{"min-width":"500px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{filled:"",modelValue:i.funcion_nombre,"onUpdate:modelValue":a[0]||(a[0]=e=>i.funcion_nombre=e),label:"Nombre del funcion",hint:"","lazy-rules":"",rules:[e=>e&&e.length>0||"Ingrese un nombre, por favor"]},null,8,["modelValue","rules"]),(0,l._)("div",he,[(0,l.Wm)(c,{label:"En desarrollo",type:"button",color:"primary",class:"q-mr-sm",onClick:i.aniadirHito,disable:""},null,8,["onClick"]),(0,l.Wm)(c,{color:"btnCancelar",label:"Cancelar",onClick:i.clicCancelar},null,8,["onClick"])])])),_:1})}const Ve={props:{mostrar:Boolean,id_accion:Number},setup(e,a){let{emit:o}=a;const i=(0,d.iH)(""),t=((0,u.oR)(),(0,l.Fl)({get:()=>e.mostrar,set:e=>o("update:mostrar",e)}));return(0,l.bv)((()=>{})),(0,l.Ah)((()=>{})),{funcion_nombre:i,aniadirHito:()=>{t.value=!1},clicCancelar:()=>{t.value=!1}}}},Ze=(0,k.Z)(Ve,[["render",Ae]]),Qe=Ze;U()(Ve,"components",{QForm:qe.Z,QInput:C.Z,QBtn:V.Z});const Ue={class:"q-gutter-xs"};function He(e,a,o,i,t,n){const r=(0,l.up)("q-input"),c=(0,l.up)("q-btn"),s=(0,l.up)("q-form");return(0,l.wg)(),(0,l.j4)(s,{class:"q-gutter-sm",style:{"min-width":"500px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{filled:"",modelValue:i.mdv_nombre,"onUpdate:modelValue":a[0]||(a[0]=e=>i.mdv_nombre=e),label:"Nombre del Medio De Verificación",hint:"","lazy-rules":"",rules:[e=>e&&e.length>0||"Ingrese un nombre, por favor"]},null,8,["modelValue","rules"]),(0,l._)("div",Ue,[(0,l.Wm)(c,{label:"En desarrollo",type:"button",color:"primary",class:"q-mr-sm",onClick:i.aniadirHito,disable:""},null,8,["onClick"]),(0,l.Wm)(c,{color:"btnCancelar",label:"Cancelar",onClick:i.clicCancelar},null,8,["onClick"])])])),_:1})}const je={props:{mostrar:Boolean,id_accion:Number},setup(e,a){let{emit:o}=a;const i=(0,d.iH)(""),t=((0,u.oR)(),(0,l.Fl)({get:()=>e.mostrar,set:e=>o("update:mostrar",e)}));return(0,l.bv)((()=>{})),(0,l.Ah)((()=>{})),{mdv_nombre:i,aniadirHito:()=>{t.value=!1},clicCancelar:()=>{t.value=!1}}}},xe=(0,k.Z)(je,[["render",He]]),ze=xe;U()(je,"components",{QForm:qe.Z,QInput:C.Z,QBtn:V.Z});const Pe=(0,l._)("div",null,"en desarrollo",-1);function Ee(e,a,o,i,t,n){const r=(0,l.up)("q-btn"),c=(0,l.up)("q-form");return(0,l.wg)(),(0,l.j4)(c,{class:"q-gutter-sm",style:{"min-width":"500px"}},{default:(0,l.w5)((()=>[Pe,(0,l.Wm)(r,{color:"btnCancelar",label:"Cancelar",onClick:i.clicCancelar},null,8,["onClick"])])),_:1})}const Fe={props:{mostrar:Boolean,id_accion:Number},setup(e,a){let{emit:o}=a;(0,u.oR)();const i=(0,l.Fl)({get:()=>e.mostrar,set:e=>o("update:mostrar",e)});return(0,l.bv)((()=>{})),(0,l.Ah)((()=>{})),{aniadirHito:()=>{i.value=!1},clicCancelar:()=>{i.value=!1}}}},De=(0,k.Z)(Fe,[["render",Ee]]),Ie=De;U()(Fe,"components",{QForm:qe.Z,QBtn:V.Z});var Ne=o(40019);const Be={props:{accion:Object},components:{ProtoAgregaEstrategia:we,ProtoAgregaHito:Ce,ProtoAgregaFuncion:Qe,ProtoAgregaMDV:ze,ProtoAgregaRol:Ie},setup(e){const a=(0,u.oR)(),o=(0,d.Vh)(e,"accion"),l=(0,d.iH)(!1),i=(0,d.iH)(e.accion.titulo),t=(0,d.iH)(e.accion.objetivo),n=(0,d.iH)(e.accion.proyecto),r=(0,d.iH)(!1),c=(0,d.iH)(!1),s=(0,d.iH)(!1),m=(0,d.iH)(!1),p=(0,d.iH)(!1);return{accion:o,modoEdicion:l,aniadirEstrategia:r,aniadeEstrategia:()=>{r.value=!0},aniadirHito:c,aniadeHito:()=>{c.value=!0},aniadirFuncion:s,aniadeFuncion:()=>{s.value=!0},aniadirMDV:m,aniadeMDV:()=>{m.value=!0},aniadirRol:p,aniadeRol:()=>{p.value=!0},editaInfoBase:e=>{l.value=!0},quitarEstrategia:o=>{confirm("¿Está segurx que desea quitar la estrategia de la actual acción?")&&a.dispatch("poador/quitaEstrategia",{id_accion:e.accion.id,id_estrategia:o.id})},editaHito:e=>{Ne.log("edita hito"),Ne.log(e)},editaFuncion:e=>{Ne.log("edita función"),Ne.log(e)},editaMDV:e=>{Ne.log("edita MDV"),Ne.log(e)},clicCancelar:()=>{a.dispatch("poador/cancelaEdicion")},eliminarAccion:()=>{confirm("¿Está segurx que desea eliminar esta propuesta de acción?")&&a.dispatch("poador/reqEliminaAccion",e.accion.id)},editandoAccionTitulo:i,editandoAccionObjetivo:t,editandoAccionProyecto:n,submitEdicion:()=>{a.dispatch("poador/reqActualizaAccion",{id:e.accion.id,titulo:i.value,objetivo:t.value,proyecto:n.value}),l.value=!1}}}};var Me=o(24379),Re=o(27011),Se=o(46489);const Oe=(0,k.Z)(Be,[["render",ce]]),Te=Oe;U()(Be,"components",{QPage:Me.Z,QCard:q.Z,QCardSection:y.Z,QCardActions:A.Z,QBtn:V.Z,QInput:C.Z,QList:Re.Z,QItemLabel:_e.Z,QItem:pe.Z,QItemSection:ge.Z}),U()(Be,"directives",{Ripple:Se.Z});const Ke=(0,l.aZ)({components:{ProtoAccionNueva:j,ProtoAccionEditar:Te},setup(){const e=function(e,a){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return e.length<a?e:e.substring(0,a)+o},a=(0,u.oR)(),o=(0,l.Fl)((()=>a.state.usuarix)),i=(0,l.Fl)((()=>a.state.poador)),t=(0,d.iH)(!1),n=(0,d.iH)([40,70]),r=(0,d.iH)(!1),c=[{name:"id_uaysen",label:"Identificador",field:"id_uaysen",sortable:!0},{name:"proyecto",label:"Proyecto",field:"proyecto",format:(a,o)=>"".concat(e(a,15))},{name:"anio",label:"Año",field:"anio",sortable:!0},{name:"titulo",label:"Título",field:"titulo",format:(a,o)=>"".concat(e(a,30))},{name:"objetivo",label:"Objetivo",field:"objetivo",format:(a,o)=>"".concat(e(a,60))},{name:"tipo",label:"Tipo",field:"tipo",sortable:!0},{name:"num_estrategias",label:"Estrategias",field:"num_estrategias",sortable:!0},{name:"num_hitos",label:"Hitos",field:"num_hitos",sortable:!0},{name:"num_mdvs",label:"MDVs",field:"num_mdvs",sortable:!0},{name:"num_funciones",label:"Funciones",field:"num_funciones",sortable:!0},{name:"num_presupuestos",label:"Presupuestos",field:"num_presupuestos"},{name:"num_colaboradores",label:"Colaboradores",field:"num_colaboradores"},{name:"modificacion",label:"Última modificación",field:"modificacion",sortable:!0},{name:"creacion",label:"Creación",field:"creacion",sortable:!0}];return(0,l.bv)((()=>{a.dispatch("poador/reqMisNuevasAcciones")})),{usuario:o,poador:i,mostrarPopupAniadir:t,clickNuevaAccion:()=>{t.value=!0},clickEditaAccion:e=>{a.dispatch("poador/reqDetalleAccion",e)},columnas:c,filtro:(0,d.iH)(""),paginacionInicial:{sortBy:"desc",descending:!1,rowsPerPage:8},dragging:r,posBoton:n,muevelo(e){r.value=!0!==e.isFirst&&!0!==e.isFinal,n.value=[n.value[0]-e.delta.x,n.value[1]-e.delta.y]}}}});var Le=o(82138),Ye=o(24554),Ge=o(65869),Je=o(21007),Xe=o(75777);const $e=(0,k.Z)(Ke,[["render",s]]),ea=$e;U()(Ke,"components",{QPage:Me.Z,QTable:Le.Z,QInput:C.Z,QIcon:Ye.Z,QCard:q.Z,QList:Re.Z,QItem:pe.Z,QItemSection:ge.Z,QItemLabel:_e.Z,QCardSection:y.Z,QBtn:V.Z,QSeparator:Ge.Z,QPageSticky:Je.Z}),U()(Ke,"directives",{TouchPan:Xe.Z})}}]);